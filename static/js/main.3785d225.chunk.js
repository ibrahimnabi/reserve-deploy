(this.webpackJsonpreserve=this.webpackJsonpreserve||[]).push([[0],{198:function(e,t,a){},313:function(e,t,a){e.exports=a(577)},318:function(e,t,a){},324:function(e,t,a){},326:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},37:function(e,t,a){e.exports=a.p+"static/media/logo.4361f2b5.png"},575:function(e,t,a){},576:function(e,t,a){},577:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),s=a.n(l),o=(a(318),a(2)),c=a.n(o),i=a(8),u=a(9),m=a(11),d=a(10),p=a(12),h=(a(198),a(17)),E=a(106),f=a(22),v="ADMIN_UPDATE_LOGIN_STATUS",g="UPDATE_NOTIFICATIONS",b="UPDATE_VENDORS",y="UPDATE_RESERVATIONS",w="UPDATE_COMPLAINTS",x="UPDATE_DISCOUNT_VOUCHERS",C="UPDATE_REVIEWS",N="UPDATE_CUSTOMERS",j="UPDATE_SLIDESHOW",O="VENDOR_UPDATE_LOGIN_STATUS",k="UPDATE_NOTIFICATIONS",_="UPDATE_CUSTOMERS",R="UPDATE_RESERVATIONS",D="UPDATE_REVIEWS",I="UPDATE_DISHES",S="UPDATE_CATEGORIES",A="UPDATE_REGISTRATION_SOCIAL",F={vendor:null,reservations:[],reviews:[],customers:[],categories:[],dishes:[],notifications:[],registrationInfo:{name:"",email:"",uid:"",photoUrl:""}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case S:return Object(f.a)({},e,{categories:n});case _:return Object(f.a)({},e,{customers:n});case I:return Object(f.a)({},e,{dishes:n});case k:return Object(f.a)({},e,{notifications:n});case R:return Object(f.a)({},e,{reservations:n});case D:return Object(f.a)({},e,{reviews:n});case O:return Object(f.a)({},e,{vendor:n});case A:return Object(f.a)({},e,{registrationInfo:n});default:return e}},T={loggedInAdmin:null,reservations:[],vendors:[],notifications:[],complaints:[],vouchers:[],reviews:[],customers:[],slideshows:[]},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:return Object(f.a)({},e,{loggedInAdmin:n});case w:return Object(f.a)({},e,{complaints:n});case x:return Object(f.a)({},e,{vouchers:n});case g:return Object(f.a)({},e,{notifications:n});case y:return Object(f.a)({},e,{reservations:n});case C:return Object(f.a)({},e,{reviews:n});case b:return Object(f.a)({},e,{vendors:n});case N:return Object(f.a)({},e,{customers:n});case j:return Object(f.a)({},e,{slideshows:n});default:return e}},H=Object(E.c)(Object(E.b)({VendorReducer:V,AdminReducer:L})),G=a(30),M=a(15),P=a(66),U=a(37),B=a.n(U),Y=(a(324),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"home-navbar navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(M.b,{className:"navbar-brand",to:"/"},r.a.createElement("img",{style:{width:"100px"},src:B.a})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"}),r.a.createElement("div",{className:"login-buttons my-2 my-lg-0"},r.a.createElement(M.b,{to:"/vendor/",className:"btn text-light btn-primary my-2 my-sm-0"},"Vendor Login"),r.a.createElement(M.b,{to:"/admin/",className:"btn text-light btn-primary mx-2 my-2 my-sm-0"},"Admin Login"))))}}]),t}(n.Component)),K=a(87),z=a.n(K),q=(a(326),a(327),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"row footer"},r.a.createElement("p",{className:"col-12 col-md-2 order-md-first order-last"},"\xa9Reserve 2020"),r.a.createElement("div",{className:"offset-md-4 col-12 col-md-6 offet-4 row"},r.a.createElement(M.b,{className:" col-12 col-md-4 text-md-right",to:"/contact"},"Contact"),r.a.createElement(M.b,{className:" col-12 col-md-4",to:"/terms"},"Terms & Conditions"),r.a.createElement(M.b,{className:" col-12 col-md-4",to:"/privacy"},"Privacy Policy")))}}]),t}(n.Component)),W=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"flex social-btns"},r.a.createElement("a",{className:"app-btn blu flex vert",href:"https://www.apple.com"},r.a.createElement("i",{className:"fab fa-apple"}),r.a.createElement("p",{className:"text"},"Available on the ",r.a.createElement("br",null)," ",r.a.createElement("span",{className:"big-txt"},"App Store"))),r.a.createElement("a",{className:"app-btn blu flex vert",href:"https://www.google.com"},r.a.createElement("i",{className:"fab fa-google-play"}),r.a.createElement("p",{className:"text"},"Get it on ",r.a.createElement("br",null)," ",r.a.createElement("span",{className:"big-txt"},"Google Play"))))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(q,null)))}}]),t}(n.Component),J=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("video",{autoPlay:!0,controls:!1,muted:!0,className:"logo",src:z.a}))),r.a.createElement(W,null))}}]),t}(n.Component),X=(a(328),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y,null),r.a.createElement(q,null))}}]),t}(n.Component)),Z=(a(329),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y,null),r.a.createElement(q,null))}}]),t}(n.Component)),Q=a(24),$=a(192),ee=(a(332),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",subject:"Complaint",message:""},a.changeState=function(e,t){a.setState(Object(Q.a)({},e,t))},a.sendMail=function(){var e,t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:""!==a.state.email.trim()&&""!==a.state.subject.trim()&&""!==a.state.message.trim()?(e={from_name:a.state.email.trim(),to_name:"ibrahimnabi80@gmail.com",reply_to:a.state.email.trim(),subject:a.state.subject,message_html:a.state.message},$.send("reserve_contact","template_KiH1F4zS",e,"user_aVbbjsfKbS0Qub1NMA29M"),t={from_name:"ibrahimnabi80@gmail.com",to_name:a.state.email.trim(),subject:"Response",message_html:"We received your message and we will reply soon. Your inquiry id is 001"},$.send("reserve_contact","template_KiH1F4zS",t,"user_aVbbjsfKbS0Qub1NMA29M"),alert("We received your message and we will reply soon"),a.props.history.push("/")):alert("Please fill all field before submitting.");case 1:case"end":return n.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Y,null),r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:" contact-form"},r.a.createElement("legend",null,"Contact Form"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlSelect1"},"Select Subject"),r.a.createElement("select",{onChange:function(t){return e.changeState("subject",t.target.value)},className:"form-control",id:"exampleFormControlSelect1"},r.a.createElement("option",{value:"Complaint"},"Complaint"),r.a.createElement("option",{value:"Inquiry"},"Inquiry"),r.a.createElement("option",{value:"Feedback"},"Feedback"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Enter Your Email Address"),r.a.createElement("input",{onChange:function(t){return e.changeState("email",t.target.value)},type:"email",className:"form-control",id:"exampleInputEmail1",placeholder:"Email Address","aria-describedby":"emailHelp"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlTextarea1"},"Enter Your Message"),r.a.createElement("textarea",{onChange:function(t){return e.changeState("message",t.target.value)},className:"form-control",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Message"})),r.a.createElement("button",{onClick:this.sendMail,type:"button",className:"btn btn-primary btn-block"},"Submit"))),r.a.createElement(q,null))}}]),t}(n.Component)),te=Object(P.f)(ee),ae=(a(333),a(147)),ne={apiKey:"AIzaSyB7qtP77Rx3HmirB5lyWJ90RYeMu4TVnyc",authDomain:"reserve-restaurant-80ec7.firebaseapp.com",databaseURL:"https://reserve-restaurant-80ec7.firebaseio.com",projectId:"reserve-restaurant-80ec7",storageBucket:"reserve-restaurant-80ec7.appspot.com",messagingSenderId:"1022182989367",appId:"1:1022182989367:web:12692d873c484a842be9b2",measurementId:"G-CSDM8VMGL4"},re=ae.initializeApp(ne),le=function(e,t){var a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.auth().createUserWithEmailAndPassword(e,t));case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}))},se=function(e,t,a){var n,r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=re.storage().ref("/restaurant_images").child("/"+a+"."+t),l.next=3,c.a.awrap(n.put(e));case 3:return r=l.sent,l.abrupt("return",r.ref.getDownloadURL());case 5:case"end":return l.stop()}}))},oe=function(e,t,a){var n,r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=re.storage().ref("/dish_images").child("/"+a+"."+t),l.next=3,c.a.awrap(n.put(e));case 3:return r=l.sent,l.abrupt("return",r.ref.getDownloadURL());case 5:case"end":return l.stop()}}))},ce=function(e,t,a){var n,r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=re.storage().ref("/escape_room_images").child("/"+a+"."+t),l.next=3,c.a.awrap(n.put(e));case 3:return r=l.sent,l.abrupt("return",r.ref.getDownloadURL());case 5:case"end":return l.stop()}}))},ie=function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/admin/"+e).once("value"));case 2:return t=a.sent,a.abrupt("return",t.val());case 4:case"end":return a.stop()}}))},ue=function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/restaurants/"+e).once("value"));case 2:return t=a.sent,a.abrupt("return",t.val());case 4:case"end":return a.stop()}}))},me=function(e,t,a){var n,r,l;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=re.storage().ref("/slideshows/"),r=n.child(t+"."+a),s.next=4,c.a.awrap(r.put(e));case 4:return l=s.sent,s.abrupt("return",l.ref.getDownloadURL());case 6:case"end":return s.stop()}}))},de={login:function(e,t){var a,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(re.auth().signInWithEmailAndPassword(e,t));case 2:if(!(a=r.sent).user){r.next=10;break}return r.next=6,c.a.awrap(ie(a.user.uid));case 6:return n=r.sent,r.abrupt("return",n);case 10:return r.abrupt("return",null);case 11:case"end":return r.stop()}}))},getAdmin:ie,getReservations:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/reservations/").once("value"));case 2:return e=n.sent,t=e.val(),a=Object.keys(t).map((function(e){return t[e]})),n.abrupt("return",a);case 6:case"end":return n.stop()}}))},getRestaurants:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/restaurants/").once("value"));case 2:return e=n.sent,t=e.val(),a=Object.keys(t).map((function(e){return t[e]})),n.abrupt("return",a);case 6:case"end":return n.stop()}}))},getDishes:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/dishes/").once("value"));case 2:return e=n.sent,t=e.val(),a=Object.keys(t).map((function(e){return t[e]})),n.abrupt("return",a);case 6:case"end":return n.stop()}}))},getReviews:function(e){var t,a,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(re.database().ref("/ratings/"+e).once("value"));case 2:return t=r.sent,a=t.val(),n=a?Object.keys(a).map((function(e){return a[e]})):[],r.abrupt("return",n);case 6:case"end":return r.stop()}}))},getAllReviews:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/ratings/").once("value"));case 2:return e=n.sent,t=e.val(),a=[],Object.keys(t).forEach((function(e){var n=Object.keys(t[e]).map((function(a){return t[e][a]}));a.push.apply(a,Object(G.a)(n))})),n.abrupt("return",a);case 7:case"end":return n.stop()}}))},getComplaints:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/complaints/").once("value"));case 2:return e=n.sent,t=e.val(),a=Object.keys(t).map((function(e){return t[e]})),n.abrupt("return",a);case 6:case"end":return n.stop()}}))},getCustomers:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/customers/").once("value"));case 2:return e=n.sent,t=e.val(),a=Object.keys(t).map((function(e){return t[e]})),n.abrupt("return",a);case 6:case"end":return n.stop()}}))},getNotifications:function(e){var t,a,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(re.database().ref("/notifications/"+e).once("value"));case 2:if(t=r.sent,!(a=t.val())){r.next=7;break}return n=Object.keys(a).map((function(e){return a[e]})),r.abrupt("return",n);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}}))},addDiscountVoucher:function(e,t,a,n,r){var l;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(re.database().ref("/discounts").push());case 2:return l=s.sent,s.next=5,c.a.awrap(re.database().ref("/discounts/"+l.key).set({code:e,expDate:t,maxUses:a,numberOfUses:0,isBlocked:!1,uid:l.key,vendor_type:n,percentage:r}));case 5:case"end":return s.stop()}}))},getDiscountVouchers:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/discounts/").once("value"));case 2:return e=n.sent,t=e.val(),a=t?Object.keys(t).map((function(e){return t[e]})):[],n.abrupt("return",a);case 6:case"end":return n.stop()}}))},listenToNotifications:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:re.database().ref("/notifications/"+t).on("child_changed",e);case 1:case"end":return a.stop()}}))},listenToVendors:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/restaurants/").on("child_changed",e);case 1:case"end":return t.stop()}}))},listenToReviews:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/reviews/").on("child_changed",e);case 1:case"end":return t.stop()}}))},listenToComplaints:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/complaints/").on("child_changed",e);case 1:case"end":return t.stop()}}))},listenToDiscountVouchers:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/discounts/").on("child_changed",e);case 1:case"end":return t.stop()}}))},listenToReservations:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/reservations/").on("child_changed",e);case 1:case"end":return t.stop()}}))},listenToDishes:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/dishes/").on("child_changed",e);case 1:case"end":return t.stop()}}))},listenToCustomers:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/customers/").on("child_changed",e);case 1:case"end":return t.stop()}}))},deleteVendor:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(re.database().ref("/restaurants/"+e).remove());case 2:case"end":return t.stop()}}))},restrictOrder:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/restaurants/"+t).update({is_restrict_order:e}));case 2:case"end":return a.stop()}}))},updateProcessingFee:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/restaurants/"+t).update({processing_fee:e+""}));case 2:case"end":return a.stop()}}))},updateProcessingFeeAndVerify:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/restaurants/"+t).update({processing_fee:e+"",is_number_verified:!0,is_verified:!0}));case 2:case"end":return a.stop()}}))},updateDiscountVoucher:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/discounts/"+e).update({isBlocked:t}));case 2:case"end":return a.stop()}}))},addSlideShow:function(e,t,a){var n,r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,c.a.awrap(re.database().ref("/slideshows/").push());case 2:return n=l.sent.key,l.next=5,c.a.awrap(me(e,n,t));case 5:return r=l.sent,l.next=8,c.a.awrap(re.database().ref("/slideshows/"+n).set({uid:n,vendor_uid:a,image_url:r}));case 8:case"end":return l.stop()}}))},listenToSlideShows:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/slideshows/").on("child_changed",e);case 1:case"end":return t.stop()}}))},getSlideShows:function(){var e,t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/slideshows/").once("value"));case 2:if(e=n.sent,!(t=e.val())){n.next=7;break}return a=Object.keys(t).map((function(e){return t[e]})),n.abrupt("return",a);case 7:return n.abrupt("return",[]);case 8:case"end":return n.stop()}}))},deleteSlideshow:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(re.database().ref("/slideshows/"+e).remove());case 2:case"end":return t.stop()}}))},deleteDiscount:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(re.database().ref("/discounts/"+e).remove());case 2:case"end":return t.stop()}}))},getVendor:ue,loginVendor:function(e,t){var a,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(re.auth().signInWithEmailAndPassword(e,t));case 2:if(!(a=r.sent).user){r.next=10;break}return r.next=6,c.a.awrap(ue(a.user.uid));case 6:return n=r.sent,r.abrupt("return",n);case 10:return r.abrupt("return",null);case 11:case"end":return r.stop()}}))},createVendor:function(e,t,a,n,r,l,s,o,i,u,m,d,p,h,E){var f,v,g,b;return c.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,c.a.awrap(le(e,t));case 2:return f=y.sent,v=f.user.uid,y.next=6,c.a.awrap(se(p,h,v));case 6:return g=y.sent,y.next=9,c.a.awrap(re.database().ref("/restaurants/"+v).set({email:e,address:a,bank_details:{account_name:r,accountNumber:n,bank_name:l},branch:s,category:o,reservation_fee:E,photo_url:g,number:d,llocation:{lat:i,llong:u},name:m,uid:v,is_verified:!1,is_restrict_order:!1,is_number_verified:!1,is_email_verified:!1,close:!1}));case 9:return y.next=11,c.a.awrap(re.database().ref("/restaurants/"+v).once("value"));case 11:return b=y.sent,y.abrupt("return",b.val());case 13:case"end":return y.stop()}}))},getCategories:function(e){var t,a,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,c.a.awrap(re.database().ref("/categories/"+e).once("value"));case 3:return t=r.sent,a=t.val(),console.log(a),n=a?Object.keys(a).map((function(e){return a[e]})):[],r.abrupt("return",n);case 8:case"end":return r.stop()}}))},getReservationsVendor:function(e){var t,a,n,r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,c.a.awrap(re.database().ref("/reservations/").once("value"));case 2:return t=l.sent,a=t.val(),n=a?Object.keys(a).map((function(e){return a[e]})):[],r=n.filter((function(t){return t.restaurant_uid===e})),l.abrupt("return",r);case 7:case"end":return l.stop()}}))},getNotificationsVendor:function(e){var t,a,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(re.database().ref("/notifications/"+e).once("value"));case 2:return t=r.sent,a=t.val(),n=a?Object.keys(a).map((function(e){return a[e]})):[],r.abrupt("return",n);case 6:case"end":return r.stop()}}))},getDishesVendor:function(e){var t,a,n,r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,c.a.awrap(re.database().ref("/dishes/").once("value"));case 2:return t=l.sent,a=t.val(),n=a?Object.keys(a).map((function(e){return a[e]})):[],r=n.filter((function(t){return t.uid===e})),l.abrupt("return",r);case 7:case"end":return l.stop()}}))},vendorListenToCategories:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/categories/"+t).on("child_changed",e));case 2:case"end":return a.stop()}}))},vendorListenToDishes:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/dishes/").on("child_changed",e);case 1:case"end":return t.stop()}}))},vendorListenToNotifications:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:re.database().ref("/notifications/"+t).on("child_changed",e);case 1:case"end":return a.stop()}}))},vendorListenToReservations:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re.database().ref("/reservations/").on("child_changed",e);case 1:case"end":return t.stop()}}))},updateNotificationSeen:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/notifications/"+e+"/"+t).update({isSeen:!0}));case 2:case"end":return a.stop()}}))},updateReservationClose:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/restaurants/"+e).update({close:t}));case 2:case"end":return a.stop()}}))},updateAvailable:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/restaurants/"+e).update({instant_data:{available:Number(t)}}));case 2:case"end":return a.stop()}}))},updateVendor:function(e,t,a,n,r,l,s,o,i){return c.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,c.a.awrap(re.database().ref("/restaurants/"+i).update({name:e,number:t,reservation_fee:a,llocation:{lat:n,llong:r},bank_details:{accountNumber:l,account_name:s,bank_name:o}}));case 2:case"end":return u.stop()}}))},updateVendorImage:function(e,t){var a,n,r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=e.name.split("."),n=a[a.length-1],l.next=4,c.a.awrap(se(e,n,t));case 4:return r=l.sent,l.next=7,c.a.awrap(re.database().ref("/restaurants/"+t).update({photo_url:r}));case 7:case"end":return l.stop()}}))},loginVendorFacebook:function(){var e,t,a,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=new ae.auth.FacebookAuthProvider,r.next=3,c.a.awrap(re.auth().signInWithPopup(e));case 3:return t=r.sent,r.next=6,c.a.awrap(ue(t.user.uid));case 6:return a=r.sent,n=a||t.user,r.abrupt("return",{result:n,message:a?"User Found":"User Not Found"});case 9:case"end":return r.stop()}}))},loginVendorGoogle:function(){var e,t,a,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=new ae.auth.GoogleAuthProvider,r.next=3,c.a.awrap(re.auth().signInWithPopup(e));case 3:return t=r.sent,r.next=6,c.a.awrap(ue(t.user.uid));case 6:return a=r.sent,n=a||t.user,r.abrupt("return",{result:n,message:a?"User Found":"User Not Found"});case 9:case"end":return r.stop()}}))},createVendorSocial:function(e,t,a,n,r,l,s,o,i,u,m,d,p,h){var E;return c.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,c.a.awrap(re.database().ref("/restaurants/"+h).set({email:e,address:t,bank_details:{account_name:n,accountNumber:a,bank_name:r},branch:l,category:s,reservation_fee:p,photo_url:d,number:m,llocation:{lat:o,llong:i},name:u,uid:h,is_verified:!1,is_restrict_order:!1,is_number_verified:!1,is_email_verified:!1,close:!1}));case 2:return f.next=4,c.a.awrap(re.database().ref("/restaurants/"+h).once("value"));case 4:return E=f.sent,f.abrupt("return",E.val());case 6:case"end":return f.stop()}}))},addCategory:function(e,t){var a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/categories/"+t).push());case 2:return a=n.sent.key,n.next=5,c.a.awrap(re.database().ref("/categories/"+t+"/"+a).set({category:e,category_key:a}));case 5:case"end":return n.stop()}}))},deleteCategory:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/categories/"+t+"/"+e).remove());case 2:case"end":return a.stop()}}))},updateCategory:function(e,t,a){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/categories/"+a+"/"+e).update({category:t}));case 2:case"end":return n.stop()}}))},addDish:function(e,t,a,n,r,l){var s,o,i;return c.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,c.a.awrap(re.database().ref("/dishes/").push());case 2:return s=u.sent.key,o=n.name.split("."),u.next=6,c.a.awrap(oe(n,o[o.length-1],s));case 6:return i=u.sent,u.next=9,c.a.awrap(re.database().ref("/dishes/"+s).set({category:t,dish_key:s,uid:l,ingredients:a,name:e,price:r,photo_url:i}));case 9:case"end":return u.stop()}}))},deleteDish:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(re.database().ref("/dishes/"+e).remove());case 2:case"end":return t.stop()}}))},updateDishImage:function(e,t){var a,n,r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=e.name.split("."),n=a[a.length-1],l.next=4,c.a.awrap(oe(e,n,t));case 4:return r=l.sent,l.next=7,c.a.awrap(re.database().ref("/dishes/"+t).update({photo_url:r}));case 7:case"end":return l.stop()}}))},updateDish:function(e,t,a,n,r){return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,c.a.awrap(re.database().ref("/dishes/"+r).update({category:t,ingredients:a,name:e,price:n}));case 2:case"end":return l.stop()}}))},updateEventsInstant:function(e,t,a,n){return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(re.database().ref("/restaurants/"+e).update({instant_data:{available:Number(t),number_of_tables:Number(a),table_fee:Number(n)}}));case 2:case"end":return r.stop()}}))},addRoom:function(e,t,a,n,r){var l,s,o;return c.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.a.awrap(re.database().ref("/restaurants/"+e+"/instant_data/").push());case 2:return l=i.sent.key,s=n.name.split(".")[n.name.split(".").length-1],i.next=6,c.a.awrap(ce(n,s,l));case 6:return o=i.sent,i.next=9,c.a.awrap(re.database().ref("/restaurants/"+e+"/instant_data/"+l).set({name:t,room_description:a,room_image_url:o,room_key:l,total_participants:r,time_slots:{}}));case 9:case"end":return i.stop()}}))},addRoomTimeSlot:function(e,t,a){var n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(re.database().ref("/restaurants/"+e+"/instant_data/"+t+"/time_slots/").push());case 2:return n=r.sent.key,r.next=5,c.a.awrap(re.database().ref("/restaurants/"+e+"/instant_data/"+t+"/time_slots/"+n).set({time_slot:a,time_slot_key:n,hide:!1}));case 5:case"end":return r.stop()}}))},updateEventsReservationFee:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/restaurants/"+e).update({reservation_fee:""+t}));case 2:case"end":return a.stop()}}))},hideUnhideRoomTimeSlot:function(e,t,a,n){return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(re.database().ref("/restaurants/"+e+"/instant_data/"+t+"/time_slots/"+a).update({hide:n}));case 2:case"end":return r.stop()}}))},deleteRoomTimeSlot:function(e,t,a){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/restaurants/"+e+"/instant_data/"+t+"/time_slots/"+a).remove());case 2:case"end":return n.stop()}}))},deleteRoom:function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(re.database().ref("/restaurants/"+e+"/instant_data/"+t).remove());case 2:case"end":return a.stop()}}))},editRoomDescription:function(e,t,a){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(re.database().ref("/restaurants/"+e+"/instant_data/"+t).update({room_description:a}));case 2:case"end":return n.stop()}}))}},pe=function(e){localStorage.setItem("admin",JSON.stringify(e))},he=function(){return JSON.parse(localStorage.getItem("admin"))},Ee=function(){localStorage.removeItem("admin")},fe=function(e){localStorage.setItem("Vendor",JSON.stringify(e))},ve=function(){return JSON.parse(localStorage.getItem("Vendor"))},ge=function(){localStorage.removeItem("Vendor")},be=function(e){return e.AdminReducer},ye=function(e){return{updateLogin:function(t){return e({type:v,payload:t})},updateComplaints:function(t){return e({type:w,payload:t})},updateDiscountVouchers:function(t){return e({type:x,payload:t})},updateNotifications:function(t){return e({type:g,payload:t})},updateReservations:function(t){return e({type:y,payload:t})},updateReviews:function(t){return e({type:C,payload:t})},updateCustomers:function(t){return e({type:N,payload:t})},updateVendors:function(t){return e({type:b,payload:t})},updateSlideshows:function(t){return e({type:j,payload:t})}}},we=a(579),xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",isLoggingIn:!1,inValidLogin:!1},a.changeState=function(e,t){a.setState(Object(Q.a)({},e,t))},a.login=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({isLoggingIn:!0}),t.prev=1,""===a.state.email.trim()||""===a.state.password.trim()){t.next=11;break}return t.next=5,c.a.awrap(de.login(a.state.email,a.state.password));case 5:e=t.sent,pe(e),a.props.updateLogin(e),window.location.reload(),t.next=12;break;case 11:alert("Your have to fill all fields in order to login");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),a.setState({isLoggingIn:!1,inValidLogin:!0});case 17:case"end":return t.stop()}}),null,null,[[1,14]])},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("img",{style:{width:"20%",objectFit:"contain",height:"20vh"},src:B.a})),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"loginAdmin col-10 col-md-6"},r.a.createElement("legend",null,"Admin Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Enter Your Email Address"),r.a.createElement("input",{onChange:function(t){return e.changeState("email",t.target.value)},type:"email",className:"form-control",id:"exampleInputEmail1",placeholder:"Email Address","aria-describedby":"emailHelp"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Enter Your Password"),r.a.createElement("input",{onChange:function(t){return e.changeState("password",t.target.value)},type:"password",className:"form-control",id:"password",placeholder:"Password"})),this.state.inValidLogin?r.a.createElement("p",{className:"text-danger"},"Invalid email or password!"):null,r.a.createElement("button",{onClick:this.login,type:"button",className:"btn btn-primary btn-block"},this.state.isLoggingIn?r.a.createElement(we.a,{animation:"border",variant:"primary"}):"Login")))),r.a.createElement(q,null))}}]),t}(n.Component),Ce=Object(h.b)(be,ye)(Object(P.f)(xe)),Ne=a(581),je=a(267),Oe=a(594),ke=a(590),_e=a(583),Re=a(580),De=a(584),Ie=a(582),Se=a(585),Ae=(a(344),a(345),a(589)),Fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Ee(),a.props.updateLogin(null),a.props.history.push("/admin/");case 3:case"end":return e.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.vendors.filter((function(e){return!e.is_verified})),t=e.map((function(e){return r.a.createElement(Ae.a.Item,null,r.a.createElement(M.b,{to:"/admin/vendor/"+e.uid},"Verify New Vendor ",e.name))}));return r.a.createElement("div",null,r.a.createElement("nav",{class:"navbar navbar-custom navbar-expand-lg navbar-light bg-white "},r.a.createElement(M.b,{class:"navbar-brand",to:"/admin/"},r.a.createElement("img",{style:{width:80},src:B.a})),r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"navbar-toggler-icon "})),r.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{class:"navbar-nav mr-auto sidenav h-100 bg-white ",id:"navAccordion"},r.a.createElement("li",{class:"nav-item active"},r.a.createElement(M.b,{to:"/admin/"},r.a.createElement("img",{className:"nav-logo",style:{width:200,margin:"70px 40px "},src:B.a})),r.a.createElement("div",{class:"mx-3"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(M.b,{to:"/admin/",class:"nav-link h5"},r.a.createElement("span",{className:"ml-2"},"Vendors"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(M.b,{to:"/admin/reservations",class:"nav-link h5"},r.a.createElement("span",{className:"ml-2"},"Reservations"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(M.b,{to:"/admin/verification",class:"nav-link h5"},r.a.createElement("span",{className:"ml-2"},"Vendors Verification"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(M.b,{to:"/admin/complaints",class:"nav-link h5"},r.a.createElement("span",{className:"ml-2"},"Complaints"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(M.b,{to:"/admin/discount",class:"nav-link h5"},r.a.createElement("span",{className:"ml-2"},"Discount Coupons"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(M.b,{to:"/admin/slideshow",class:"nav-link h5"},r.a.createElement("span",{className:"ml-2"},"Slideshow Banners"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(M.b,{onClick:this.logout,class:"nav-link h5 "},r.a.createElement("span",{className:"ml-2"},"Logout")))))),r.a.createElement("form",{class:"form-inline ml-auto mt-2 mt-md-0"}),r.a.createElement("div",{class:"d-flex align-items-center mx-3"},r.a.createElement(Ae.a,null,r.a.createElement(Ae.a.Toggle,{variant:"link",id:"dropdown-basic"},r.a.createElement("ion-icon",{name:"notifications-outline"}),r.a.createElement(Re.a,{pill:!0,className:"notifications",variant:"primary"},e.length)),r.a.createElement(Ae.a.Menu,null,t.length?t:r.a.createElement(Ae.a.Item,null,"No notifications")))))),r.a.createElement("main",{class:"content-wrapper"},this.props.children))}}]),t}(n.Component),Ve=Object(P.f)(Object(h.b)(be,ye)(Fe)),Te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={modalShow:!1,selectedVendor:"",procFee:0,date:new Date,name:""},a.clickHandler=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.history.push("/admin/vendor/"+e);case 1:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.vendors.filter((function(t){return t.name.toLowerCase().includes(e.state.name.toLowerCase(),0)})),a=t.filter((function(e){return"Restaurants"===e.category&&e.is_verified})),n=t.filter((function(e){return"Escape Rooms"===e.category&&e.is_verified})),l=t.filter((function(e){return"Cafes"===e.category&&e.is_verified})),s=t.filter((function(e){return"Events"===e.category&&e.is_verified}));t.filter((function(e){return!e.is_verified}));return r.a.createElement("div",null,r.a.createElement(Ve,null,r.a.createElement(Ne.a,null,r.a.createElement(Ie.a,{className:"justify-content-center"},r.a.createElement(je.a,{xs:12},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Vendors")),r.a.createElement(Oe.a.Body,null,r.a.createElement(ke.a.Row,{style:{paddingTop:10,paddingBottom:10}},r.a.createElement(ke.a.Group,{as:je.a,controlId:"formGridCity"},r.a.createElement(ke.a.Control,{onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Search"}))),r.a.createElement(_e.a,{variant:"pills",defaultActiveKey:"Restaurants",id:"noanim-tab-example"},r.a.createElement(De.a,{eventKey:"Restaurants",title:"Restaurants"},r.a.createElement(Se.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{onClick:function(){return e.clickHandler(t.uid)}},r.a.createElement("td",null,r.a.createElement("img",{style:{width:40,height:40,borderRadius:50,objectFit:"cover"},src:t.photo_url})),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.is_verified?r.a.createElement(Re.a,{variant:"success"},"Verified"):r.a.createElement(Re.a,{variant:"danger"},"Unverified"))))}))))),r.a.createElement(De.a,{eventKey:"Cafe",title:"Cafe"},r.a.createElement(Se.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,l.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{onClick:function(){return e.clickHandler(t.uid)}},r.a.createElement("td",null,r.a.createElement("img",{style:{width:40,height:40,borderRadius:50,objectFit:"cover"},src:t.photo_url})),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.is_verified?r.a.createElement(Re.a,{variant:"success"},"Verified"):r.a.createElement(Re.a,{variant:"danger"},"Unerified"))))}))))),r.a.createElement(De.a,{eventKey:"Escape Rooms",title:"Escape Rooms"},r.a.createElement(Se.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,n.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{onClick:function(){return e.clickHandler(t.uid)}},r.a.createElement("td",null,r.a.createElement("img",{style:{width:40,height:40,borderRadius:50,objectFit:"cover"},src:t.photo_url})),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.is_verified?r.a.createElement(Re.a,{variant:"success"},"Verified"):r.a.createElement(Re.a,{variant:"danger"},"Unerified"))))}))))),r.a.createElement(De.a,{eventKey:"Event Organizers",title:"Event Organizers"},r.a.createElement(Se.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,s.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{onClick:function(){return e.clickHandler(t.uid)}},r.a.createElement("td",null,r.a.createElement("img",{style:{width:40,height:40,borderRadius:50,objectFit:"cover"},src:t.photo_url})),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.is_verified?r.a.createElement(Re.a,{variant:"success"},"Verified"):r.a.createElement(Re.a,{variant:"danger"},"Unerified"))))})))))))))))," ",r.a.createElement(q,null)))}}]),t}(n.Component),Le=Object(h.b)(be,ye)(Object(P.f)(Te)),He=(a(347),a(591)),Ge=a(284),Me=a(266),Pe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Ee(),a.props.updateLogin(null),a.props.history.push("/admin/");case 3:case"end":return e.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.vendors.filter((function(e){return!e.is_verified})),t=e.map((function(e){return r.a.createElement(Ae.a.Item,null,r.a.createElement(M.b,{to:"/admin/vendor/"+e.uid},"Verify New Vendor ",e.name))}));return r.a.createElement(He.a,{className:"admin-nav",bg:"light",expand:"lg"},r.a.createElement(He.a.Brand,null,r.a.createElement(M.b,{to:"/admin/"},r.a.createElement("img",{style:{width:100},src:B.a}))),r.a.createElement(He.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(He.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Ge.a,{className:"ml-auto admin-nav-links"},r.a.createElement(Ge.a.Link,null,r.a.createElement(M.b,{to:"/admin"},"Vendors")),r.a.createElement(Ge.a.Link,null,r.a.createElement(M.b,{to:"/admin/reservations"},"Reservations")),r.a.createElement(Ge.a.Link,null,r.a.createElement(M.b,{to:"/admin/discount"},"Discount Vouchers")),r.a.createElement(Ge.a.Link,null,r.a.createElement(M.b,{to:"/admin/complaints"},"Complaints")),r.a.createElement(Ge.a.Link,null,r.a.createElement(M.b,{to:"/admin/slideshow"},"Slideshow")),r.a.createElement(Ae.a,null,r.a.createElement(Ae.a.Toggle,{variant:"link",id:"dropdown-basic"},r.a.createElement("ion-icon",{name:"notifications-outline"}),r.a.createElement(Re.a,{pill:!0,className:"notifications",variant:"primary"},e.length)),r.a.createElement(Ae.a.Menu,null,t.length?t:r.a.createElement(Ae.a.Item,null,"No notifications")))),r.a.createElement(M.b,null,r.a.createElement(Me.a,{onClick:this.logout,type:"button",variant:"outline-primary"},"Logout"))))}}]),t}(n.Component),Ue=(Object(P.f)(Object(h.b)(be,ye)(Pe)),a(586)),Be=a(588),Ye=a(587),Ke=a(268),ze=(a(348),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={address:"",branch:"",category:"",close:!1,email:"",instant_data:{available:0},modalShow:!1,is_email_verfied:!1,is_number_verified:!1,is_restrict_order:!1,is_verified:!1,llocation:{lat:0,llong:0},name:"",number:"",photo_url:"",reservation_fee:"0",processing_fee:"0",uid:"LEa50vSb5KTbwvz3FgToiDwvzKm1",bank_details:{accountNumber:"",account_name:"",bank_name:""},reviews:[],newProFee:0},a.restrictOrder=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.restrictOrder(!a.state.is_restrict_order,e));case 2:a.setState({is_restrict_order:!a.state.is_restrict_order});case 3:case"end":return t.stop()}}))},a.checkDate=function(e){var t=new Date;t.setDate(t.getDate()-30);var a=new Date(+t);return a.setDate(a.getDate()+30),e>=t&&e<=a},a.componentDidMount=function(){var e,t,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e=a.props.vendors.find((function(e){return e.uid===a.props.match.params.uid})),a.setState(Object(f.a)({},e)),t=a.props.reviews.filter((function(e){return e.restaurant_uid===a.props.match.params.uid})),n=t.map((function(e){var t=a.props.customers.find((function(t){return t.uid===e.customer_uid})),n=a.props.vendors.find((function(t){return t.uid===e.restaurant_uid})),r=["star-outline","star-outline","star-outline","star-outline","star-outline"];return r.fill("star",0,e.rating),Object(f.a)({},e,{customer:t,restaurant:n,array:r})})),a.setState({reviews:n});case 5:case"end":return r.stop()}}))},a.clickHandler=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.history.push("/admin/customer/"+e);case 1:case"end":return t.stop()}}))},a.deleteHandler=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(de.deleteVendor(a.state.uid));case 2:a.props.history.push("/admin/");case 3:case"end":return e.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reservations.filter((function(t){return t.restaurant_uid===e.props.match.params.uid})),a=t.map((function(t){var a=e.props.customers.find((function(e){return e.uid===t.customer_uid})),n=(e.props.vendors.find((function(e){return e.uid===t.restaurant_uid})),"Reserved"==t.status?"warning":"Completed"==t.status?"success":"danger");return r.a.createElement("tr",{onClick:function(){return e.clickHandler(a.uid)}},r.a.createElement("td",null,r.a.createElement("img",{style:{width:40,height:40,borderRadius:50,objectFit:"cover"},src:a.photo})),r.a.createElement("td",null,a.name),r.a.createElement("td",null,t.time),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.attandee),r.a.createElement("td",null,Math.floor(Number(t.attandee/5))+1),r.a.createElement("td",null,r.a.createElement(Re.a,{variant:n},t.status)))})),n=this.props.complaints.filter((function(t){return t.restaurant_uid===e.props.match.params.uid})).map((function(t){var a=e.props.customers.find((function(e){return e.uid===t.customer_uid})),n=e.props.vendors.find((function(e){return e.uid===t.restaurant_uid}));return a?r.a.createElement(Ue.a,{as:"li"},r.a.createElement("img",{width:64,height:64,className:"mr-3",style:{objectFit:"cover"},src:a.photo?a.photo:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRwYsBVC-oKRvO87aXVfE63jYe52NcDYM5ArsCRKAGZaImUHAql",alt:"Generic placeholder"}),r.a.createElement(Ue.a.Body,null,r.a.createElement("h5",null,a.name),r.a.createElement(Ie.a,{className:"ml-1"},r.a.createElement("h6",{onClick:e.redirectToVendor},n.name)),r.a.createElement(Ie.a,{className:"ml-1"},r.a.createElement("h6",{className:"text-muted"},t.title)),r.a.createElement("p",null,t.description),r.a.createElement("p",null,"Date of Complaint:"," ",r.a.createElement("small",{className:"text-muted"},t.date)))):null})),l=t.filter((function(t){var a=new Date(t.date);return console.log(a),e.checkDate(a)}));console.log(l),console.log(t);var s=0;return l.forEach((function(e){s+=Math.floor(Number(Number(e.attandee)/5))+1})),console.log(s),r.a.createElement("div",null,r.a.createElement(Ve,null,r.a.createElement(Ne.a,null,r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",md:"3"},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Body,null,r.a.createElement("img",{style:{width:"100%",height:200,objectFit:"cover"},src:this.state.photo_url}),r.a.createElement("hr",null),r.a.createElement("p",{className:"h5"},this.state.name,this.state.is_verified?null:r.a.createElement("small",{className:"text-muted text-danger"}," ","(Verification Pending)")),r.a.createElement("p",{className:"text-muted"},this.state.category),r.a.createElement("hr",null),r.a.createElement("p",{className:"h6"},"Branch:"," ",r.a.createElement("span",{className:"text-muted"},this.state.branch)),r.a.createElement("p",{className:"h6"},"Phone:"," ",r.a.createElement("span",{className:"text-muted"},this.state.number)),r.a.createElement("p",{className:"h6"},"Email:"," ",r.a.createElement("span",{className:"text-muted"},this.state.email)),r.a.createElement("hr",null),r.a.createElement("p",{className:"h6"},"Bank Name:"," ",r.a.createElement("span",{className:"text-muted"},this.state.bank_details.bank_name)),r.a.createElement("p",{className:"h6"},"Account Name:"," ",r.a.createElement("span",{className:"text-muted"},this.state.bank_details.account_name)),r.a.createElement("p",{className:"h6"},"Account Number:"," ",r.a.createElement("span",{className:"text-muted"},this.state.bank_details.accountNumber)),r.a.createElement("hr",null),r.a.createElement("p",{className:"h6"},"Reservation Fee:"," ",r.a.createElement("span",{className:"text-muted"},"EGP ",this.state.reservation_fee)),r.a.createElement("p",{className:"h6"},"Processing Fee:"," ",r.a.createElement("span",{className:"text-muted"},"EGP ",this.state.processing_fee)),r.a.createElement("hr",null),r.a.createElement("p",{className:"h6"},"Last Months Reservation Revenue:"," ",r.a.createElement("span",{className:"text-muted"},"EGP ",this.state.reservation_fee*s)),r.a.createElement("p",{className:"h6"},"Last Months Processing Revenue:"," ",r.a.createElement("span",{className:"text-muted"},"EGP ",this.state.processing_fee*s)),r.a.createElement("hr",null),r.a.createElement("p",{className:"h6"},"Available Reservations:"," ",r.a.createElement("span",{className:"text-muted"},this.state.instant_data.available)),r.a.createElement("hr",null),r.a.createElement(ke.a.Check,{checked:this.state.is_restrict_order,type:"switch",id:"custom-switch",label:"Stop Reservations",onChange:function(){return e.restrictOrder(e.state.uid)}})))),r.a.createElement(je.a,{className:"mt-3 mt-md-0 mb-5",xs:"12",md:"9"},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Vendor Details")),r.a.createElement(Oe.a.Body,null,r.a.createElement(Ie.a,{className:" p-4"},r.a.createElement(Me.a,{onClick:function(){e.setState({modalShow:!0})},variant:"primary",className:"mx-2"},this.state.is_verified?"Edit Processing Fee":"Approve Verification"),r.a.createElement(Me.a,{onClick:this.deleteHandler,variant:"danger",className:"mx-2"},this.state.is_verified?"Remove Vendor":"Reject Verification")),r.a.createElement("hr",null),r.a.createElement("h3",null,"Location"),r.a.createElement("div",{className:"map"},r.a.createElement("h1",null,"Map will be displayed here")),r.a.createElement("hr",null),a.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Reservations"),r.a.createElement(Se.a,{responsive:!0,striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Customer Name"),r.a.createElement("th",null,"Reservation Time"),r.a.createElement("th",null,"Date of Reservation"),r.a.createElement("th",null,"Number of Attendees"),r.a.createElement("th",null,"Number of Tables"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,a))):r.a.createElement("p",null,"No Reservations Found"),r.a.createElement("hr",null),this.state.reviews.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Reviews"),r.a.createElement("ul",{className:"list-unstyled mt-5"},this.state.reviews.map((function(e){return r.a.createElement(Ue.a,{as:"li"},r.a.createElement("img",{width:64,height:64,className:"mr-3",style:{objectFit:"cover"},src:e.customer.photo?e.customer.photo:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRwYsBVC-oKRvO87aXVfE63jYe52NcDYM5ArsCRKAGZaImUHAql",alt:"Generic placeholder"}),r.a.createElement(Ue.a.Body,null,r.a.createElement("h5",null,e.customer.name),r.a.createElement(Ie.a,{className:"media-stars "},e.array.map((function(e){return r.a.createElement("ion-icon",{name:e})}))),r.a.createElement("p",null,e.comment)))})))):r.a.createElement("p",null,"No Reviews for this Vendor"),r.a.createElement("hr",null),n.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Complaints"),r.a.createElement("ul",{className:"list-unstyled mt-5"},n)):r.a.createElement("p",null,"No Complaints for this Vendor")))))),r.a.createElement(q,null)),r.a.createElement(Be.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.state.modalShow,onHide:function(){return e.setState({modalShow:!1})}},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Edit Processing Fee")),r.a.createElement(Be.a.Body,null,r.a.createElement(Ye.a,{className:"mb-3"},r.a.createElement(Ye.a.Prepend,null,r.a.createElement(Ye.a.Text,{id:"inputGroup-sizing-default"},"Processing Fee")),r.a.createElement(Ke.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",type:"number",onChange:function(t){e.setState({newProFee:t.target.value})}}))),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{onClick:function(){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.is_verified){t.next=5;break}return t.next=3,c.a.awrap(de.updateProcessingFee(e.state.newProFee,e.state.uid));case 3:t.next=7;break;case 5:return t.next=7,c.a.awrap(de.updateProcessingFeeAndVerify(e.state.newProFee,e.state.uid));case 7:e.setState({modalShow:!1}),window.location.reload();case 9:case"end":return t.stop()}}))}},this.state.is_verified?"Update":"Verify"),r.a.createElement(Me.a,{variant:"danger",onClick:function(){return e.setState({modalShow:!1})}},"Close"))))}}]),t}(n.Component)),qe=Object(h.b)(be,ye)(Object(P.f)(ze)),We=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).redirectToVendor=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.push("/admin/vendor");case 1:case"end":return e.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.complaints.map((function(t){var a=e.props.customers.find((function(e){return e.uid===t.customer_uid})),n=e.props.vendors.find((function(e){return e.uid===t.restaurant_uid}));return a&&n?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{as:"li"},r.a.createElement("img",{width:64,height:64,className:"mr-3",style:{objectFit:"cover"},src:a.photo?a.photo:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRwYsBVC-oKRvO87aXVfE63jYe52NcDYM5ArsCRKAGZaImUHAql",alt:"Generic placeholder"}),r.a.createElement(Ue.a.Body,null,r.a.createElement("h5",null,a.name),r.a.createElement(Ie.a,{className:"ml-1"},r.a.createElement("h6",{onClick:e.redirectToVendor},n.name)),r.a.createElement(Ie.a,{className:"ml-1"},r.a.createElement("h6",{className:"text-muted"},t.title)),r.a.createElement("p",null,t.description),r.a.createElement("p",null,"Date of Complaint:"," ",r.a.createElement("small",{className:"text-muted"},t.date)))),r.a.createElement("hr",null)):null}));return r.a.createElement("div",null,r.a.createElement(Ve,null,r.a.createElement(Ne.a,null,r.a.createElement(Oe.a,{className:"my-3"},r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Complaints")),r.a.createElement(Oe.a.Body,null,r.a.createElement("ul",{className:"list-unstyled mt-5"},t)))),r.a.createElement(q,null)))}}]),t}(n.Component),Je=Object(h.b)(be,ye)(Object(P.f)(We)),Xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={vendor:"",customer:"",minDate:null,maxDate:null,vendorType:"All"},a.redirectToCustomer=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.history.push("/admin/customer/"+e);case 1:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reservations.map((function(t){var a=e.props.customers.find((function(e){return e.uid===t.customer_uid})),n=e.props.vendors.find((function(e){return e.uid===t.restaurant_uid})),l=new Date(t.date),s=new Date(e.state.minDate),o=new Date(e.state.maxDate),c=n.name.toLowerCase().includes(e.state.vendor.toLowerCase(),0)&&("All"===e.state.vendorType||e.state.vendorType===n.category)&&a.name.toLowerCase().includes(e.state.customer.toLowerCase(),0)&&(!e.state.minDate||!e.state.maxDate||l>=s&&l<=o),i="Reserved"==t.status?"warning":"Completed"==t.status?"success":"danger";return c?r.a.createElement("tr",{onClick:function(){return e.redirectToCustomer(a.uid)}},r.a.createElement("td",null,r.a.createElement("img",{style:{width:40,height:40,borderRadius:50,objectFit:"cover"},src:a.photo})),r.a.createElement("td",null,a.name),r.a.createElement("td",null,n?n.name:"Vendor Deleted"),r.a.createElement("td",null,t.time),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.attandee),r.a.createElement("td",null,Math.floor(Number(t.attandee/5))+1),r.a.createElement("td",null,r.a.createElement(Re.a,{variant:i},t.status))):null}));return r.a.createElement("div",null,r.a.createElement(Ve,null,r.a.createElement(Ne.a,null,r.a.createElement(Oe.a,{className:"my-3"},r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Reservations")),r.a.createElement(Oe.a.Body,null,r.a.createElement(ke.a.Row,{style:{paddingTop:10}},r.a.createElement(ke.a.Group,{as:je.a,controlId:"formGridCity"},r.a.createElement(ke.a.Label,null,"Vendor Type"),r.a.createElement(ke.a.Control,{as:"select",onChange:function(t){return e.setState({vendorType:t.target.value})}},r.a.createElement("option",{value:"All"},"All"),r.a.createElement("option",{value:"Restaurants"},"Restaurants"),r.a.createElement("option",{value:"Cafes"},"Cafes"),r.a.createElement("option",{value:"Escape Rooms"},"Escape Rooms"),r.a.createElement("option",{value:"Events"},"Events")))),r.a.createElement(ke.a.Row,{style:{paddingTop:10}},r.a.createElement(ke.a.Group,{as:je.a,controlId:"formGridCity"},r.a.createElement(ke.a.Label,null,"Vendor Name"),r.a.createElement(ke.a.Control,{onChange:function(t){return e.setState({vendor:t.target.value})},placeholder:"Search By Vendor"})),r.a.createElement(ke.a.Group,{as:je.a,controlId:"formGridCity"},r.a.createElement(ke.a.Label,null,"Customer Name"),r.a.createElement(ke.a.Control,{onChange:function(t){return e.setState({customer:t.target.value})},placeholder:"Search By Customer"}))),r.a.createElement(ke.a.Row,{style:{paddingTop:10}},r.a.createElement(ke.a.Group,{as:je.a,controlId:"formGridCity"},r.a.createElement(ke.a.Label,null,"Min Date"),r.a.createElement(ke.a.Control,{type:"date",onChange:function(t){return e.setState({minDate:t.target.value})}})),r.a.createElement(ke.a.Group,{as:je.a,controlId:"formGridCity"},r.a.createElement(ke.a.Label,null,"Max Date"),r.a.createElement(ke.a.Control,{type:"date",onChange:function(t){return e.setState({maxDate:t.target.value})}}))),r.a.createElement(Se.a,{responsive:!0,striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Customer Image"),r.a.createElement("th",null,"Customer Name"),r.a.createElement("th",null,"Vendor Name"),r.a.createElement("th",null,"Reservation Time"),r.a.createElement("th",null,"Date of Reservation"),r.a.createElement("th",null,"Number of Attendees"),r.a.createElement("th",null,"Number of Tables"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,t))))),r.a.createElement(q,null)))}}]),t}(n.Component),Ze=Object(h.b)(be,ye)(Object(P.f)(Xe)),Qe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.history.push("/admin/vendor/"+e);case 1:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.customers.find((function(t){return t.uid===e.props.match.params.uid})),a=this.props.reservations.filter((function(t){return t.customer_uid==e.props.match.params.uid})),n=this.props.complaints.filter((function(t){return t.customer_uid==e.props.match.params.uid})),l=this.props.reviews.filter((function(t){return t.customer_uid==e.props.match.params.uid})),s=a.map((function(t){var a=e.props.vendors.find((function(e){return e.uid===t.restaurant_uid})),n="Reserved"==t.status?"warning":"Completed"==t.status?"success":"danger";return r.a.createElement("tr",{onClick:function(){return e.clickHandler(a.uid)}},r.a.createElement("td",null,r.a.createElement("img",{src:a?a.photo_url:"",style:{width:40,height:40,objectFit:"cover",borderRadius:40}})),r.a.createElement("td",null,a?a.name:"Vendor Deleted"),r.a.createElement("td",null,t.time),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.attandee),r.a.createElement("td",null,Math.floor(Number(t.attandee/5))+1),r.a.createElement("td",null,r.a.createElement(Re.a,{variant:n},t.status)))})),o=l.map((function(t){var a=e.props.vendors.find((function(e){return e.uid===t.restaurant_uid})),n=["star-outline","star-outline","star-outline","star-outline","star-outline"];return n.fill("star",0,t.rating),r.a.createElement(Ue.a,{as:"li"},r.a.createElement("img",{width:64,height:64,className:"mr-3",style:{objectFit:"cover"},src:a.photo_url?a.photo_url:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRwYsBVC-oKRvO87aXVfE63jYe52NcDYM5ArsCRKAGZaImUHAql",alt:"Generic placeholder"}),r.a.createElement(Ue.a.Body,null,r.a.createElement("h5",null,a.name),r.a.createElement(Ie.a,{className:"media-stars "},n.map((function(e){return r.a.createElement("ion-icon",{name:e})}))),r.a.createElement("p",null,t.comment)))})),c=n.map((function(t){var a=e.props.vendors.find((function(e){return e.uid===t.restaurant_uid}));return r.a.createElement(Ue.a,{as:"li"},r.a.createElement("img",{width:64,height:64,className:"mr-3",style:{objectFit:"cover"},src:a.photo_url?a.photo_url:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRwYsBVC-oKRvO87aXVfE63jYe52NcDYM5ArsCRKAGZaImUHAql",alt:"Generic placeholder"}),r.a.createElement(Ue.a.Body,null,r.a.createElement("h5",null,a.name),r.a.createElement(Ie.a,{className:"ml-1"},r.a.createElement("h6",{className:"text-muted"},a.title)),r.a.createElement("p",null,t.description),r.a.createElement("p",null,"Date of Complaint:"," ",r.a.createElement("small",{className:"text-muted"},t.date))))}));return r.a.createElement("div",null,r.a.createElement(Ve,null,r.a.createElement(Ne.a,null,r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",md:"3"},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Body,null,r.a.createElement("img",{style:{width:"100%",height:200,objectFit:"cover"},src:t.photo}),r.a.createElement("hr",null),r.a.createElement("p",{className:"h5"},t.name),r.a.createElement("hr",null),r.a.createElement("p",{className:"h6"},"Phone:"," ",r.a.createElement("span",{className:"text-muted"},t.number)),r.a.createElement("p",{className:"h6"},"Email:"," ",r.a.createElement("span",{className:"text-muted"},t.email))))),r.a.createElement(je.a,{className:"mt-3 mt-md-0 mb-5",xs:"12",md:"9"},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Customer History")),r.a.createElement(Oe.a.Body,null,r.a.createElement("h3",null,"Reservations"),r.a.createElement(Se.a,{responsive:!0,striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Vendor Name"),r.a.createElement("th",null,"Reservation Time"),r.a.createElement("th",null,"Date of Registration"),r.a.createElement("th",null,"Number of Attendees"),r.a.createElement("th",null,"Number of Tables"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,s)),r.a.createElement("hr",null),o.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Reviews"),r.a.createElement("ul",{className:"list-unstyled mt-5"},o)):r.a.createElement("p",null,"No Reviews by this customer"),r.a.createElement("hr",null),c.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Complaints"),r.a.createElement("ul",{className:"list-unstyled mt-5"},c)):r.a.createElement("p",null,"No Complaints by this customer")))))),r.a.createElement(q,null)))}}]),t}(n.Component),$e=Object(h.b)(be,ye)(Object(P.f)(Qe)),et=(a(349),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={code:"",expDate:"",maxUses:0,vendor_type:"Restaurants",show:!1,selected_uid:"",isAdding:!1,percentage:0},a.showModal=function(){a.setState({show:!a.state.show})},a.add=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isAdding:!0}),e.next=3,c.a.awrap(de.addDiscountVoucher(a.state.code,a.state.expDate,a.state.maxUses,a.state.vendor_type,a.state.percentage));case 3:window.location.reload();case 4:case"end":return e.stop()}}))},a.handler=function(e,t){a.setState(Object(Q.a)({},e,t))},a.dateHandler=function(e){var t=e.target.value.split("-");a.setState({expDate:t[2]+"/"+t[1]+"/"+t[0]})},a.block=function(e,t){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(de.updateDiscountVoucher(e,!t));case 2:window.location.reload();case 3:case"end":return a.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;this.props.vendors.map((function(e){return r.a.createElement("option",{value:e.uid},e.name)}));return r.a.createElement("div",null,r.a.createElement(Ve,null,r.a.createElement(Ne.a,null,r.a.createElement(Oe.a,{className:"my-3"},r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Discount Vouchers")),r.a.createElement(Oe.a.Body,null,r.a.createElement(ke.a,null,r.a.createElement("legend",{className:"h4"},"Add Discount Voucher"),r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.Group,{as:je.a,controlId:"formGridEmail"},r.a.createElement(ke.a.Label,null,"Code"),r.a.createElement(ke.a.Control,{onChange:function(t){return e.handler("code",t.target.value)},type:"text",placeholder:"Enter Code"})),r.a.createElement(ke.a.Group,{as:je.a,controlId:"expiryDate"},r.a.createElement(ke.a.Label,null,"Expiry Date"),r.a.createElement(ke.a.Control,{onChange:this.dateHandler,type:"date",placeholder:"Expiry Date"}))),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ke.a.Label,null,"Vendor Type"),r.a.createElement(ke.a.Control,{onChange:function(t){return e.handler("vendor_type",t.target.value)},as:"select"},r.a.createElement("option",{value:"Restaurants"},"Restaurants"),r.a.createElement("option",{value:"Cafes"},"Cafes"),r.a.createElement("option",{value:"Escape Rooms"},"Escape Rooms"),r.a.createElement("option",{value:"Events"},"Events"))),r.a.createElement(ke.a.Group,{controlId:"formGridPassword"},r.a.createElement(ke.a.Label,null,"Max Number of Uses"),r.a.createElement(ke.a.Control,{type:"number",placeholder:"Max Uses",value:this.state.maxUses,onChange:function(t){t.target.value>=0&&e.handler("maxUses",t.target.value)}})),r.a.createElement(ke.a.Group,{controlId:"formGridPassword"},r.a.createElement(ke.a.Label,null,"Discount Percentage"),r.a.createElement(ke.a.Control,{type:"number",placeholder:"Discount Percentage",value:this.state.percentage,onChange:function(t){t.target.value>=0&&t.target.value<=100&&e.handler("percentage",t.target.value)}})),r.a.createElement(Me.a,{onClick:this.add,block:!0,variant:"primary",type:"button"},this.state.isAdding?r.a.createElement(we.a,{animation:"border",variant:"primary"}):"Add New Voucher")),r.a.createElement("hr",null),r.a.createElement(Se.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Times Used"),r.a.createElement("th",null,"Max Uses"),r.a.createElement("th",null,"Expiry Date"),r.a.createElement("th",null,"Vendor Type"),r.a.createElement("th",null,"Discount Percentage"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Change Status"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,this.props.vouchers.map((function(t){var a=new Date,n=t.expDate.split("/"),l=new Date(Number(n[2]),Number(n[1])-1,Number(n[0])),s=t.isBlocked||Number(t.maxUses)<=Number(t.numberOfUses)||a>l;return r.a.createElement("tr",null,r.a.createElement("td",null,t.code),r.a.createElement("td",null,t.numberOfUses),r.a.createElement("td",null,t.maxUses),r.a.createElement("td",null,t.expDate),r.a.createElement("td",null,t.vendor_type),r.a.createElement("td",null,t.percentage,"%"),r.a.createElement("td",null,r.a.createElement(Re.a,{variant:s?"danger":"success"},s?"Unavailable":"Available")),r.a.createElement("td",{onClick:function(){e.block(t.uid,t.isBlocked)}},r.a.createElement("ion-icon",{class:s?"blockButton text-success":"blockButton text-danger",name:s?"checkmark-circle-outline":"close-circle-outline"})),r.a.createElement("td",{onClick:function(){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({selected_uid:t.uid}),e.showModal();case 2:case"end":return a.stop()}}))}},r.a.createElement("ion-icon",{class:"blockButton text-danger",name:"trash-outline"})))}))))))),r.a.createElement(q,null)),r.a.createElement(Be.a,{centered:!0,show:this.state.show,onHide:this.showModal,animation:!0},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,null,"Are you sure you want to delete this voucher?")),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{variant:"primary",onClick:function(){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.deleteDiscount(e.state.selected_uid));case 2:window.location.reload();case 3:case"end":return t.stop()}}))}},"Yes"),r.a.createElement(Me.a,{variant:"danger",onClick:this.showModal},"No"))))}}]),t}(n.Component)),tt=Object(h.b)(be,ye)(et),at=a(593),nt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={file:null,vendor_uid:"",isAdding:!1},a.handler=function(e,t){a.setState(Object(Q.a)({},e,t))},a.add=function(){var e,t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isAdding:!0}),e=a.state.file.name.split("."),t=e[e.length-1],n.next=5,c.a.awrap(de.addSlideShow(a.state.file,t,a.state.vendor_uid));case 5:window.location.reload();case 6:case"end":return n.stop()}}))},a.fileHandler=function(e){a.setState({file:e.target.files[0]})},a.delete=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.deleteSlideshow(e));case 2:window.location.reload();case 3:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.vendors.map((function(e){return r.a.createElement("option",{value:e.uid},e.name)})),a=this.props.slideshows.map((function(t){var a=e.props.vendors.find((function(e){return e.uid===t.vendor_uid}));return r.a.createElement(at.a.Item,null,r.a.createElement("img",{style:{height:500,objectFit:"cover"},className:"d-block w-100",src:t.image_url}),r.a.createElement(at.a.Caption,{style:{background:"rgba(0,0,0,0.5)",padding:10,borderRadius:10}},r.a.createElement("h3",null,a.name),r.a.createElement(Me.a,{variant:"danger",type:"button",style:{margin:15},onClick:function(){return e.delete(t.uid)}},"Delete")))}));return r.a.createElement("div",null,r.a.createElement(Ve,null,r.a.createElement(Ne.a,null,r.a.createElement(Ie.a,{className:"justify-content-center"},r.a.createElement(je.a,{xs:12},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Slideshow")),r.a.createElement(Oe.a.Body,null,a.length>0?r.a.createElement(at.a,null,a):r.a.createElement("p",null,"No Slideshows have been added yet"),r.a.createElement("hr",null),r.a.createElement(ke.a,null,r.a.createElement("legend",{className:"h4"},"Add New Banner"),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ke.a.Label,null,"Vendor"),r.a.createElement(ke.a.Control,{onChange:function(t){return e.handler("vendor_uid",t.target.value)},as:"select"},t)),r.a.createElement(ke.a.Group,{controlId:"formGridPassword"},r.a.createElement(ke.a.Label,null,"Image"),r.a.createElement(ke.a.Control,{onChange:this.fileHandler,type:"file",placeholder:"Image",accept:"image/*"})),r.a.createElement(Me.a,{onClick:this.add,block:!0,variant:"primary",type:"button"},this.state.isAdding?r.a.createElement(we.a,{animation:"border",variant:"primary"}):"Add Banner"))))))),r.a.createElement(q,null)))}}]),t}(n.Component),rt=Object(h.b)(be,ye)(Object(P.f)(nt)),lt=(a(350),function(e){return e.VendorReducer}),st=function(e){return{updateLogin:function(t){return e({type:O,payload:t})},updateNotifications:function(t){return e({type:k,payload:t})},updateReservations:function(t){return e({type:R,payload:t})},updateReviews:function(t){return e({type:D,payload:t})},updateCustomers:function(t){return e({type:_,payload:t})},updateCategories:function(t){return e({type:S,payload:t})},updateDishes:function(t){return e({type:I,payload:t})},updateRegistrationSocial:function(t){return e({type:A,payload:t})}}},ot=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.inputHandler=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.facebookLogin=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.loginVendorFacebook());case 2:"User Found"===(e=t.sent).message?(a.props.updateLogin(e.result),fe(e.result),window.location.reload()):(a.props.updateRegistrationSocial({name:e.result.displayName,email:e.result.email,uid:e.result.uid,photoUrl:e.result.photoURL}),a.props.history.push("/vendor/registersocial"));case 4:case"end":return t.stop()}}))},a.googleLogin=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.loginVendorGoogle());case 2:"User Found"===(e=t.sent).message?(a.props.updateLogin(e.result),fe(e.result),window.location.reload()):(a.props.updateRegistrationSocial({name:e.result.displayName,email:e.result.email,uid:e.result.uid,photoUrl:e.result.photoURL}),a.props.history.push("/vendor/registersocial"));case 4:case"end":return t.stop()}}))},a.login=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.loginVendor(a.state.email,a.state.password));case 2:(e=t.sent)?(a.props.updateLogin(e),fe(e),window.location.reload()):alert("Login Unsuccessful");case 4:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(Ne.a,{fluid:!0},r.a.createElement(Ie.a,{style:{minHeight:"100vh"}},r.a.createElement(je.a,{xs:"12",md:"6",className:"d-none d-md-flex",style:{background:"white",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("img",{style:{width:"50%",objectFit:"contain"},src:B.a})),r.a.createElement(je.a,{xs:"12",md:"6",style:{background:"#ba0fb4",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(ke.a,{style:{background:"#fff",padding:20,borderRadius:8,width:"90%"}},r.a.createElement("legend",{style:{marginBottom:40,textAlign:"center"}},"Login to your Vendor Account"),r.a.createElement(ke.a.Group,{controlId:"formBasicEmail"},r.a.createElement(ke.a.Label,null,"Email address"),r.a.createElement(ke.a.Control,{name:"email",onChange:this.inputHandler,type:"email",placeholder:"Enter email"})),r.a.createElement(ke.a.Group,{style:{marginBottom:20},controlId:"formBasicPassword"},r.a.createElement(ke.a.Label,null,"Password"),r.a.createElement(ke.a.Control,{name:"password",onChange:this.inputHandler,type:"password",placeholder:"Password"})),r.a.createElement(Me.a,{onClick:this.login,block:!0,variant:"primary",type:"button"},"Login"),r.a.createElement(Ie.a,{className:"align-middle",style:{marginTop:10}},r.a.createElement(je.a,{xs:"5"},r.a.createElement("hr",null)),r.a.createElement(je.a,{xs:"2",className:"text-center text-muted"},"or"),r.a.createElement(je.a,{xs:"5"},r.a.createElement("hr",null))),r.a.createElement(Ie.a,{style:{marginTop:20}},r.a.createElement(je.a,null,r.a.createElement(Me.a,{onClick:this.facebookLogin,block:!0,className:"facebook bg-primary ",type:"button"},"Facebook Login")),r.a.createElement(je.a,null,r.a.createElement(Me.a,{onClick:this.googleLogin,block:!0,className:"google bg-success",type:"button"},"Google Login"))),r.a.createElement("hr",{style:{marginTop:30,marginBottom:20}}),r.a.createElement("p",{className:"text-center"},"Don't have an account?"," ",r.a.createElement(M.b,{to:"/vendor/register"},"Click here to Register"))))))}}]),t}(n.Component),ct=Object(h.b)(lt,st)(Object(P.f)(ot)),it=(a(351),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).updateNotifications=function(e,t){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(de.updateNotificationSeen(a.props.vendor.uid,e));case 2:a.props.history.push(t);case 3:case"end":return n.stop()}}))},a.logout=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:ge(),a.props.updateLogin(null),a.props.history.push("/vendor/");case 3:case"end":return e.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top bg-white"},r.a.createElement(M.b,{className:"navbar-brand",to:"/vendor/"},r.a.createElement("img",{style:{width:"80px"},src:B.a})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon "})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto vendor-sidebar h-100 bg-white",id:"navAccordion"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("div",{className:"d-none d-md-flex usaneTitle"},r.a.createElement(M.b,{className:"d-flex justify-content-center align-items-center",to:"/vendor/"},r.a.createElement("img",{style:{width:"80%"},src:B.a}))),r.a.createElement("div",{className:"mx-3"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.b,{to:"/vendor/",className:"nav-link nav-link-custom "},r.a.createElement("span",{className:"ml-2"},"Dashboard"),r.a.createElement("div",{className:"hr"}))),"Restaurants"===this.props.vendor.category||"Cafes"===this.props.vendor.category?r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.b,{to:"/vendor/menu",className:"nav-link nav-link-custom "},r.a.createElement("span",{className:"ml-2"},"Menu"),r.a.createElement("div",{className:"hr"}))):null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.b,{to:"/vendor/upcoming",className:"nav-link nav-link-custom "},r.a.createElement("span",{className:"ml-2"},"Upcoming Reservations"),r.a.createElement("div",{className:"hr"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.b,{to:"/vendor/past",className:"nav-link nav-link-custom "},r.a.createElement("span",{className:"ml-2"},"Past Reservations"),r.a.createElement("div",{className:"hr"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.b,{to:"/vendor/reviews",className:"nav-link nav-link-custom "},r.a.createElement("span",{className:"ml-2"},"Reviews & Ratings"),r.a.createElement("div",{className:"hr"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.b,{to:"/vendor/profile",className:"nav-link nav-link-custom "},r.a.createElement("span",{className:"ml-2"},"Profile Setting"),r.a.createElement("div",{className:"hr"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.b,{onClick:this.logout,className:"nav-link nav-link-custom "},r.a.createElement("span",{className:"ml-2"},"Logout"),r.a.createElement("div",{className:"hr"})))))),r.a.createElement("form",{className:"form-inline ml-auto mt-2 mt-md-0"}),r.a.createElement("div",{className:"d-flex align-items-center p-2"},r.a.createElement(Ae.a,null,r.a.createElement(Ae.a.Toggle,{style:{width:35},variant:"link",id:"dropdown-basic"},r.a.createElement("img",{style:{width:"35px",objectFit:"cover",height:"35px",borderRadius:"35px",border:"solid 1px #ba0fb4"},src:this.props.vendor.photo_url?this.props.vendor.photo_url:"https://www.rd.com/wp-content/uploads/2017/09/01-shutterstock_476340928-Irina-Bg-1024x683.jpg"}),r.a.createElement(Re.a,{style:{position:"absolute",top:2,left:28,height:14,width:14,borderRadius:14,background:"#ba0fb4",color:"#fff",fontWeight:"bold"},pill:!0},this.props.notifications.length)),r.a.createElement(Ae.a.Menu,null,0===this.props.notifications.length?r.a.createElement(Ae.a.Item,null,"No notifications"):this.props.notifications.map((function(t){return r.a.createElement(Ae.a.Item,{onClick:function(){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(e.updateNotifications(t.notification_key,"/vendor/"));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))}},t.message)}))))))),r.a.createElement("main",{className:"custom-content-wrapper"},r.a.createElement("div",{className:"container"},this.props.children)))}}]),t}(n.Component)),ut=Object(P.f)(Object(h.b)(lt,st)(it)),mt=(a(352),a(283)),dt=a(77),pt=(a(575),function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec"}}),ht=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={available:0,numberOfTables:0,tableFee:0,reservationFee:0,addRoomModalVisible:!1,addRoomName:"",addRoomDescription:"",addRoomTotalParticipants:0,addRoomImage:null,addTimeSlotSlot:"",addTimeSlotRoom:"",addTimeSlotModal:!1,editRoomDescription:"",editRoomKey:"",editRoomModal:!1},a.addRoom=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.addRoom(a.props.vendor.uid,a.state.addRoomName,a.state.addRoomDescription,a.state.addRoomImage,a.state.addRoomTotalParticipants));case 2:return t.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:e=t.sent,a.props.updateLogin(e),fe(e),window.location.reload();case 8:case"end":return t.stop()}}))},a.addRoomTimeSlot=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.addRoomTimeSlot(a.props.vendor.uid,a.state.addTimeSlotRoom,a.state.addTimeSlotSlot));case 2:return t.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:e=t.sent,a.props.updateLogin(e),fe(e),window.location.reload();case 8:case"end":return t.stop()}}))},a.setAddRoomModelVisible=function(){a.setState({addRoomModalVisible:!a.state.addRoomModalVisible})},a.setEditRoomModalVisible=function(){a.setState({editRoomModal:!a.state.editRoomModal})},a.hide=function(e,t,n){var r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,c.a.awrap(de.hideUnhideRoomTimeSlot(a.props.vendor.uid,e,t,n));case 2:return l.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:r=l.sent,fe(r),a.props.updateLogin(r);case 7:case"end":return l.stop()}}))},a.delete=function(e,t){var n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(de.deleteRoomTimeSlot(a.props.vendor.uid,e,t));case 2:return r.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:n=r.sent,fe(n),a.props.updateLogin(n);case 7:case"end":return r.stop()}}))},a.deleteRoom=function(e){var t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(de.deleteRoom(a.props.vendor.uid,e));case 2:return n.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:t=n.sent,fe(t),a.props.updateLogin(t);case 7:case"end":return n.stop()}}))},a.setAddTimeSlotModelVisible=function(){a.setState({addTimeSlotModal:!a.state.addTimeSlotModal})},a.editRoomDescription=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.editRoomDescription(a.props.vendor.uid,a.state.editRoomKey,a.state.editRoomDescription));case 2:return t.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:e=t.sent,fe(e),a.props.updateLogin(e),window.location.reload();case 8:case"end":return t.stop()}}))},a.componentDidMount=function(){a.setState({available:a.props.vendor.instant_data?a.props.vendor.instant_data.available:0,numberOfTables:a.props.vendor.instant_data?a.props.vendor.instant_data.number_of_tables:0,tableFee:a.props.vendor.instant_data?a.props.vendor.instant_data.table_fee:0})},a.updateRestrictOrder=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.restrictOrder(!a.props.vendor.is_restrict_order,a.props.vendor.uid));case 2:return t.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:e=t.sent,a.props.updateLogin(e),fe(e);case 7:case"end":return t.stop()}}))},a.updateClose=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.updateReservationClose(a.props.vendor.uid,!a.props.vendor.close));case 2:return t.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:e=t.sent,a.props.updateLogin(e),fe(e);case 7:case"end":return t.stop()}}))},a.availableChangeHandler=function(e){var t=new Date,n=a.props.reservations.filter((function(e){return e.date===pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear()}));e.target.value<n.length?(alert("You can't set available reservations to less than than "+n.length),a.setState({available:a.props.vendor.instant_data?a.props.vendor.instant_data.available:0})):a.setState({available:e.target.value})},a.submitAvailableChanges=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.updateAvailable(a.props.vendor.uid,a.state.available));case 2:return t.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:e=t.sent,a.props.updateLogin(e),fe(e);case 7:case"end":return t.stop()}}))},a.updateEvents=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.updateEventsInstant(a.props.vendor.uid,a.state.available,a.state.numberOfTables,a.state.tableFee));case 2:return t.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:e=t.sent,a.props.updateLogin(e),fe(e),window.location.reload();case 8:case"end":return t.stop()}}))},a.updateEventsReservationFee=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.updateEventsReservationFee(a.props.vendor.uid,a.state.reservationFee));case 2:return t.next=4,c.a.awrap(de.getVendor(a.props.vendor.uid));case 4:e=t.sent,a.props.updateLogin(e),fe(e),window.location.reload();case 8:case"end":return t.stop()}}))},a.inputHandler=function(e,t){a.setState(Object(Q.a)({},e,t))},a.handler=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.filehandler=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.files[0]))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=new Date,a={name:pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear(),reservations:this.props.reservations.filter((function(e){return e.date===pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear()})).length};t.setDate(t.getDate()+1);var n={name:pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear(),reservations:this.props.reservations.filter((function(e){return e.date===pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear()})).length};t.setDate(t.getDate()+1);var l={name:pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear(),reservations:this.props.reservations.filter((function(e){return e.date===pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear()})).length};t.setDate(t.getDate()+1);var s={name:pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear(),reservations:this.props.reservations.filter((function(e){return e.date===pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear()})).length};t.setDate(t.getDate()+1);var o={name:pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear(),reservations:this.props.reservations.filter((function(e){return e.date===pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear()})).length};t.setDate(t.getDate()+1);var i={name:pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear(),reservations:this.props.reservations.filter((function(e){return e.date===pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear()})).length};t.setDate(t.getDate()+1);var u=[a,n,l,s,o,i,{name:pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear(),reservations:this.props.reservations.filter((function(e){return e.date===pt(t.getMonth())+" "+t.getDate()+", "+t.getFullYear()})).length}],m=new Date,d=this.props.reservations.filter((function(e){return console.log(e),e.date===pt(m.getMonth())+" "+m.getDate()+", "+m.getFullYear()})),p=[];"Escape Rooms"===this.props.vendor.category&&this.props.vendor.instant_data&&(p=Object.keys(this.props.vendor.instant_data).map((function(t){var a=[];return e.props.vendor.instant_data[t].time_slots&&(a=Object.keys(e.props.vendor.instant_data[t].time_slots).map((function(a){var n=d.find((function(n){return n.reservation_for===e.props.vendor.instant_data[t].name&&n.time===e.props.vendor.instant_data[t][a].time_slot}));return Object(f.a)({},e.props.vendor.instant_data[t].time_slots[a],{reservedBy:n})}))),Object(f.a)({},e.props.vendor.instant_data[t],{time_slots:a})})));var h=d.map((function(t){var a=e.props.customers.find((function(e){return e.uid===t.customer_uid}));return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{style:{width:50,height:50,borderRadius:50,objectFit:"cover"},src:a&&a.photo_url?a.photo_url:"https://img.pngio.com/profile-icon-png-image-free-download-searchpngcom-profile-icon-png-673_673.png"})),r.a.createElement("td",{colSpan:"4"},r.a.createElement("strong",null,"Customer Name: ")," ",a.name?a.name:"Customer has been deleted",r.a.createElement("br",null),r.a.createElement("strong",null,"Reservation Time: ")," ",t.time,r.a.createElement("br",null),r.a.createElement("strong",null,"Number of Attendees: ")," ",t.attandee,r.a.createElement("br",null),r.a.createElement("strong",null,"Number of Tables: ")," ",Math.floor(Number(t.attandee/5))+1,r.a.createElement("br",null),r.a.createElement("strong",null,"Status of Reservation: ")," ",t.status,r.a.createElement("br",null),r.a.createElement("strong",null,"Customer Phone number: ")," ",a.number,r.a.createElement("br",null),r.a.createElement("strong",null,"Customer Email: ")," ",a.email,r.a.createElement("br",null)))}));return r.a.createElement("div",null,r.a.createElement(ut,null,r.a.createElement(Ne.a,{fluid:!0},r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",style:{padding:10}},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Dashboard")),r.a.createElement(Oe.a.Body,null,r.a.createElement("h3",{className:"mt-2"},"Edit Reservations"),"Restaurants"===this.props.vendor.category||"Cafes"===this.props.vendor.category?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Number of available Reservations"),r.a.createElement(Ye.a,{className:"mt-3"},r.a.createElement(Ke.a,{placeholder:"Number available reservations for today",type:"number","aria-label":"Recipient's username","aria-describedby":"basic-addon2",value:this.state.available,onChange:this.availableChangeHandler}),r.a.createElement(Ye.a.Append,null,r.a.createElement(Me.a,{onClick:this.submitAvailableChanges,variant:"primary"},"Confirm Change"))),r.a.createElement(ke.a.Check,{type:"switch",checked:this.props.vendor.is_restrict_order,onClick:this.updateRestrictOrder,className:"mt-2 ml-1",id:"custom-switch",label:"Stop Orders"})):null,r.a.createElement(ke.a.Check,{type:"switch",checked:this.props.vendor.close,onClick:this.updateClose,className:"mt-2 mb-4 ml-1",id:"another-switch",label:"Stop Reservations"}),"Events"===this.props.vendor.category?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"my-3"},"Total Tickets Available"),r.a.createElement(Ye.a,{className:"mt-3"},r.a.createElement(Ke.a,{placeholder:"Total Tickets Available",type:"number",value:this.state.available,onChange:function(t){return e.inputHandler("available",t.target.value)}}),r.a.createElement(Ye.a.Append,null,r.a.createElement(Me.a,{onClick:this.updateEvents,variant:"primary"},"Confirm Change"))),r.a.createElement("p",{className:"my-3"},"Total Tables Available"),r.a.createElement(Ye.a,{className:"mt-3"},r.a.createElement(Ke.a,{placeholder:"Total Tables Available",type:"number",value:this.state.numberOfTables,onChange:function(t){return e.inputHandler("numberOfTables",t.target.value)}}),r.a.createElement(Ye.a.Append,null,r.a.createElement(Me.a,{onClick:this.updateEvents,variant:"primary"},"Confirm Change"))),r.a.createElement("p",{className:"my-3"},"Table Reservation Fee"),r.a.createElement(Ye.a,{className:"mt-3"},r.a.createElement(Ke.a,{placeholder:"Table Reservation Fee",type:"number",value:this.state.tableFee,onChange:function(t){return e.inputHandler("tableFee",t.target.value)}}),r.a.createElement(Ye.a.Append,null,r.a.createElement(Me.a,{onClick:this.updateEvents,variant:"primary"},"Confirm Change")))):null,r.a.createElement("hr",null),"Escape Rooms"===this.props.vendor.category?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mt-2"},"Upcoming Reservations"),r.a.createElement(Oe.a,{className:"mt-5"},r.a.createElement(Oe.a.Body,null,p.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"8"},r.a.createElement("h4",null,t.name)),r.a.createElement(je.a,{xs:"4",className:"d-flex flex-row-reverse"},r.a.createElement(Me.a,{onClick:function(){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({editRoomDescription:t.room_description,editRoomKey:t.room_key}),e.setEditRoomModalVisible();case 2:case"end":return a.stop()}}))},variant:"primary"},"Edit"),r.a.createElement(Me.a,{className:"mr-2",onClick:function(){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(e.deleteRoom(t.room_key));case 2:case"end":return a.stop()}}))},variant:"danger"},"Delete"))),r.a.createElement(Oe.a,{className:"mt-3"},r.a.createElement(Oe.a.Body,null,t.time_slots.map((function(a){return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12"},r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"8",className:a.reservedBy?"text-danger h5":"text-success h5"},a.time_slot),r.a.createElement(je.a,{xs:"4"},r.a.createElement(Ie.a,{className:"d-flex flex-row-reverse"},r.a.createElement(Me.a,{onClick:function(){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(e.hide(t.room_key,a.time_slot_key,!a.hide));case 2:case"end":return n.stop()}}))},className:"mx-4",variant:a.hide?"success":"danger"},a.hide?"Unhide":"Hide"),r.a.createElement(Me.a,{onClick:function(){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(e.delete(t.room_key,a.time_slot_key));case 2:case"end":return n.stop()}}))},variant:"danger"},"Delete")))))),r.a.createElement("hr",null))})),r.a.createElement(Ie.a,{className:"d-flex flex-row-reverse"},r.a.createElement(Me.a,{onClick:function(){e.setAddTimeSlotModelVisible(),e.setState({addTimeSlotRoom:t.room_key})},className:"mx-4",variant:"dark"},"Add Time Slot")))),r.a.createElement("hr",null))})),r.a.createElement(Ie.a,{className:"d-flex flex-row-reverse"},r.a.createElement(Me.a,{onClick:this.setAddRoomModelVisible,className:"mx-4",variant:"dark"},"Add Room")))),r.a.createElement(Be.a,{show:this.state.addRoomModalVisible,size:"lg",onHide:this.setAddRoomModelVisible,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Add Room")),r.a.createElement(Be.a.Body,null,r.a.createElement("div",{className:"d-flex w-100 flex-column align-items-center justify-content-center"},r.a.createElement("img",{style:{width:200,objectFit:"cover",height:200,borderRadius:"50%"},src:this.state.addRoomImage?URL.createObjectURL(this.state.addRoomImage):"https://img.pngio.com/profile-icon-png-image-free-download-searchpngcom-profile-icon-png-673_673.png"}),r.a.createElement(ke.a.Group,{className:"mt-5",controlId:"formGridAddress1"},r.a.createElement(ke.a.Control,{className:"btn btn-primary",name:"addRoomImage",accept:"image/*",onChange:this.filehandler,type:"file"}))),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Room Name"),r.a.createElement(ke.a.Control,{onChange:this.handler,name:"addRoomName",value:this.state.addRoomName,type:"text",placeholder:"Enter Room Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Room Description"),r.a.createElement(ke.a.Control,{onChange:this.handler,name:"addRoomDescription",value:this.state.addRoomDescription,as:"textarea",placeholder:"Enter Room Description"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Room Total Participants"),r.a.createElement(ke.a.Control,{onChange:this.handler,name:"addRoomTotalParticipants",value:this.state.addRoomTotalParticipants,type:"number",placeholder:"Enter Room Participants"}))),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{onClick:this.addRoom},"Add Room"),r.a.createElement(Me.a,{variant:"danger",onClick:this.setAddRoomModelVisible},"Close"))),r.a.createElement(Be.a,{show:this.state.editRoomModal,size:"lg",onHide:this.setEditRoomModalVisible,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Edit Room")),r.a.createElement(Be.a.Body,null,r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Room Description"),r.a.createElement(ke.a.Control,{onChange:this.handler,name:"editRoomDescription",value:this.state.editRoomDescription,as:"textarea",placeholder:"Enter Room Description"}))),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{onClick:this.editRoomDescription},"Edit Room"),r.a.createElement(Me.a,{variant:"danger",onClick:this.setEditRoomModalVisible},"Close"))),r.a.createElement(Be.a,{show:this.state.addTimeSlotModal,size:"lg",onHide:this.setAddTimeSlotModelVisible,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Add Room Time Slot")),r.a.createElement(Be.a.Body,null,r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(mt.a,{showSecond:!1,onChange:function(t){return e.setState({addTimeSlotSlot:t&&t.format("h:mm a")})},placeholder:"Select Time Slot",className:"w-50",format:"h:mm a",use12Hours:!0,inputReadOnly:!0}))),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{onClick:this.addRoomTimeSlot},"Add Room"),r.a.createElement(Me.a,{variant:"danger",onClick:this.setAddTimeSlotModelVisible},"Close")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mt-2"},"Upcoming Reservations"),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center p-5"},r.a.createElement(dt.b,{width:992,height:300,data:u},r.a.createElement(dt.c,{strokeDasharray:"3 3"}),r.a.createElement(dt.e,{dataKey:"name"}),r.a.createElement(dt.f,null),r.a.createElement(dt.d,null),r.a.createElement(dt.a,{dataKey:"reservations",fill:"#82034d"}))),r.a.createElement("hr",null),r.a.createElement("h3",{className:"mt-2"},"Today's Reservations"),r.a.createElement(Se.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Customer Image"),r.a.createElement("th",{colSpan:"4"},"Description"))),r.a.createElement("tbody",null,h.length>0?h:r.a.createElement("strong",null,"No Reservations For Today")))))))))))}}]),t}(n.Component),Et=Object(h.b)(lt,st)(ht),ft=a(592),vt=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=new Date,a=(new Date).setDate(t.getDate()-1),n=this.props.reservations.filter((function(e){return new Date(e.date)>a})),l={};return n.forEach((function(t){var a=e.props.customers.find((function(e){return e.uid===t.customer_uid}));if(l[t.date])l[t.date].arr.push(Object(f.a)({},t,{customer:a}));else{var n=[Object(f.a)({customer:a},t)];l[t.date]={arr:n}}})),r.a.createElement("div",null,r.a.createElement(ut,null,r.a.createElement(Ne.a,{fluid:!0},r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",style:{padding:10}},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Upcoming Reservations")),r.a.createElement(Oe.a.Body,null,r.a.createElement(ft.a,null,Object.keys(l).map((function(e,t){var a=l[e];return r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement(ft.a.Toggle,{as:Me.a,eventKey:""+t},e," Upcoming Reservations")),r.a.createElement(ft.a.Collapse,{eventKey:""+t},r.a.createElement(Oe.a.Body,null,r.a.createElement(Se.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Customer Image"),r.a.createElement("th",{colSpan:"4"},"Description"))),r.a.createElement("tbody",null,a.arr.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{style:{width:50,height:50,borderRadius:50,objectFit:"cover"},src:e.customer.photo_url?e.customer.photo_url:"https://www.rd.com/wp-content/uploads/2017/09/01-shutterstock_476340928-Irina-Bg-1024x683.jpg"})),r.a.createElement("td",{colSpan:"4"},r.a.createElement("strong",null,"Customer Name: ")," ",e.customer.name,r.a.createElement("br",null),r.a.createElement("strong",null,"Reservation Time:"," ")," ",e.time,r.a.createElement("br",null),r.a.createElement("strong",null,"Number of Attendees:"," ")," ",e.attandee,r.a.createElement("br",null),r.a.createElement("strong",null,"Number of Tables:"," ")," ",Math.floor(Number(e.attandee/5))+1,r.a.createElement("br",null),r.a.createElement("strong",null,"Status of Reservation:"," ")," ",e.status,r.a.createElement("br",null),r.a.createElement("strong",null,"Customer Phone number:"," ")," ",e.customer.number,r.a.createElement("br",null),r.a.createElement("strong",null,"Customer Email:"," ")," ",e.customer.email,r.a.createElement("br",null)))})))))))}))))))))))}}]),t}(n.Component),gt=Object(h.b)(lt,st)(vt),bt=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=new Date,a=this.props.reservations.filter((function(e){return new Date(e.date)<t})),n={};return a.forEach((function(t){var a=e.props.customers.find((function(e){return e.uid===t.customer_uid}));if(n[t.date])n[t.date].arr.push(Object(f.a)({},t,{customer:a}));else{var r=[Object(f.a)({customer:a},t)];n[t.date]={arr:r}}})),r.a.createElement("div",null,r.a.createElement(ut,null,r.a.createElement(Ne.a,{fluid:!0},r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",style:{padding:10}},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Previous Reservations")),r.a.createElement(Oe.a.Body,null,r.a.createElement(ft.a,null,Object.keys(n).map((function(e,t){var a=n[e];return r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement(ft.a.Toggle,{as:Me.a,eventKey:""+t},e," Upcoming Reservations")),r.a.createElement(ft.a.Collapse,{eventKey:""+t},r.a.createElement(Oe.a.Body,null,r.a.createElement(Se.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Customer Image"),r.a.createElement("th",{colSpan:"4"},"Description"))),r.a.createElement("tbody",null,a.arr.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{style:{width:50,height:50,borderRadius:50,objectFit:"cover"},src:e.customer.photo_url?e.customer.photo_url:"https://www.rd.com/wp-content/uploads/2017/09/01-shutterstock_476340928-Irina-Bg-1024x683.jpg"})),r.a.createElement("td",{colSpan:"4"},r.a.createElement("strong",null,"Customer Name: ")," ",e.customer.name,r.a.createElement("br",null),r.a.createElement("strong",null,"Reservation Time:"," ")," ",e.time,r.a.createElement("br",null),r.a.createElement("strong",null,"Number of Attendees:"," ")," ",e.attandee,r.a.createElement("br",null),r.a.createElement("strong",null,"Number of Tables:"," ")," ",Math.floor(Number(e.attandee/5))+1,r.a.createElement("br",null),r.a.createElement("strong",null,"Status of Reservation:"," ")," ",e.status,r.a.createElement("br",null),r.a.createElement("strong",null,"Customer Phone number:"," ")," ",e.customer.number,r.a.createElement("br",null),r.a.createElement("strong",null,"Customer Email:"," ")," ",e.customer.email,r.a.createElement("br",null)))})))))))}))))))))))}}]),t}(n.Component),yt=Object(h.b)(lt,st)(bt),wt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={modalShow:!1,selectedVendor:"",procFee:0,date:new Date,name:""},a.clickHandler=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.history.push("/admin/vendor/"+e);case 1:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.vendors.filter((function(t){return t.name.toLowerCase().includes(e.state.name.toLowerCase(),0)})).filter((function(e){return!e.is_verified}));return r.a.createElement("div",null,r.a.createElement(Ve,null,r.a.createElement(Ne.a,null,r.a.createElement(Ie.a,{className:"justify-content-center"},r.a.createElement(je.a,{xs:12},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Vendors Verification")),r.a.createElement(Oe.a.Body,null,r.a.createElement(ke.a.Row,{style:{paddingTop:10}},r.a.createElement(ke.a.Group,{as:je.a,controlId:"formGridCity"},r.a.createElement(ke.a.Control,{onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Search"}))),r.a.createElement(Se.a,{striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Reservation Price"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{onClick:function(){return e.clickHandler(t.uid)}},r.a.createElement("img",{style:{width:40,height:40,borderRadius:50,objectFit:"cover"},src:t.photo_url?t.photo_url:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRwYsBVC-oKRvO87aXVfE63jYe52NcDYM5ArsCRKAGZaImUHAql"})),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.reservation_fee),r.a.createElement("td",null,t.is_verified?r.a.createElement(Re.a,{variant:"success"},"Verified"):r.a.createElement(Re.a,{variant:"danger"},"Unerified")),r.a.createElement("td",null,r.a.createElement(Me.a,{onClick:function(){e.setState({modalShow:!0,selectedVendor:t.uid})},variant:"success",size:"sm"},"Verify"))))})))))))))," ",r.a.createElement(q,null)),r.a.createElement(Be.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.state.modalShow,onHide:function(){return e.setState({modalShow:!1})}},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Edit Processing Fee")),r.a.createElement(Be.a.Body,null,r.a.createElement(Ye.a,{className:"mb-3"},r.a.createElement(Ye.a.Prepend,null,r.a.createElement(Ye.a.Text,{id:"inputGroup-sizing-default"},"Processing Fee")),r.a.createElement(Ke.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",type:"number",onChange:function(t){e.setState({newProFee:t.target.value})}}))),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{onClick:function(){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.updateProcessingFeeAndVerify(e.state.newProFee,e.state.selectedVendor));case 2:e.setState({modalShow:!1});case 3:case"end":return t.stop()}}))}},"Update"),r.a.createElement(Me.a,{variant:"danger",onClick:function(){return e.setState({modalShow:!1})}},"Close"))))}}]),t}(n.Component),xt=Object(P.f)(Object(h.b)(be,ye)(wt)),Ct=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reviews.map((function(t){var a=e.props.customers.find((function(e){return e.uid===t.customer_uid})),n=["star-outline","star-outline","star-outline","star-outline","star-outline"];return n.fill("star",0,t.rating),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{as:"li"},r.a.createElement("img",{width:64,height:64,className:"mr-5",style:{objectFit:"cover",borderRadius:"50%"},src:a.photo_url?a.photo_url:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRwYsBVC-oKRvO87aXVfE63jYe52NcDYM5ArsCRKAGZaImUHAql",alt:"Generic placeholder"}),r.a.createElement(Ue.a.Body,null,r.a.createElement("h5",{style:{fontWeight:"bold"}},a.name),r.a.createElement(Ie.a,{className:"media-stars mb-3"},n.map((function(e){return r.a.createElement("ion-icon",{name:e})}))),r.a.createElement("p",null,t.comment))),r.a.createElement("hr",null))}));return r.a.createElement("div",null,r.a.createElement(ut,null,r.a.createElement(Ne.a,{fluid:!0},r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",style:{padding:10}},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Reviews & Ratings")),r.a.createElement(Oe.a.Body,null,r.a.createElement("ul",{className:"list-unstyled mt-5"},t.length>0?t:r.a.createElement("h3",null,"No reviews for you so far")))))))))}}]),t}(n.Component),Nt=Object(h.b)(lt,st)(Ct),jt=(a(576),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={addCategoryModalVisible:!1,addDishesModalVisible:!1,editCategoryModalVisible:!1,editDishesModalVisible:!1,addCategoryName:"",updateCategoryName:"",categoryToUpdate:"",addDishImage:null,addDishName:"",addDishCategory:"",addDishPrice:0,addDishIngredients:"",updateDishImage:null,updateDishImageUrl:"",updateDishName:"",updateDishCategory:"",updateDishPrice:0,updateDishIngredients:"",updateDishKey:""},a.componentDidMount=function(){a.setState({addDishCategory:a.props.categories[0]?a.props.categories[0].category:""})},a.inputHandler=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.setAddCategoryVisible=function(){a.setState({addCategoryModalVisible:!a.state.addCategoryModalVisible})},a.setAddDishesVisible=function(){a.setState({addDishesModalVisible:!a.state.addDishesModalVisible})},a.setEditCategoryVisible=function(){a.setState({editCategoryModalVisible:!a.state.editCategoryModalVisible})},a.setEditDishesVisible=function(){a.setState({editDishesModalVisible:!a.state.editDishesModalVisible})},a.addCategory=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(de.addCategory(a.state.addCategoryName,a.props.vendor.uid));case 2:a.setAddCategoryVisible(),window.location.reload();case 4:case"end":return e.stop()}}))},a.updateCategory=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(de.updateCategory(a.state.categoryToUpdate,a.state.updateCategoryName,a.props.vendor.uid));case 2:a.setEditCategoryVisible(),window.location.reload();case 4:case"end":return e.stop()}}))},a.deleteCategory=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.deleteCategory(e,a.props.vendor.uid));case 2:window.location.reload();case 3:case"end":return t.stop()}}))},a.deleteDish=function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.deleteDish(e));case 2:window.location.reload();case 3:case"end":return t.stop()}}))},a.fileInputHandler=function(e){console.log(e.target.files[0]),a.setState(Object(Q.a)({},e.target.name,e.target.files[0]))},a.dishFileInputHandler=function(e){a.setState({updateDishImage:e.target.files[0]},(function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(de.updateDishImage(a.state.updateDishImage,a.state.updateDishKey));case 2:case"end":return e.stop()}}))}))},a.addDish=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(de.addDish(a.state.addDishName,a.state.addDishCategory,a.state.addDishIngredients,a.state.addDishImage,a.state.addDishPrice,a.props.vendor.uid));case 2:window.location.reload();case 3:case"end":return e.stop()}}))},a.updateDish=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(de.updateDish(a.state.updateDishName,a.state.updateDishCategory,a.state.updateDishIngredients,a.state.updateDishPrice,a.state.updateDishKey));case 2:window.location.reload();case 3:case"end":return e.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ut,null,r.a.createElement(Ne.a,{fluid:!0},r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",style:{padding:10}},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Menu")),r.a.createElement(Oe.a.Body,null,r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",md:"6"},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,{draggable:!0},r.a.createElement("h4",null,"Menu Categories")),r.a.createElement(Oe.a.Body,null,this.props.categories.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{className:"menu-icons d-flex justify-content-center align-items-center"},r.a.createElement(je.a,{xs:"8"},t.category),r.a.createElement(je.a,{xs:"2",onClick:function(){e.setState({updateCategoryName:t.category,categoryToUpdate:t.category_key}),e.setEditCategoryVisible()}},r.a.createElement("ion-icon",{className:"menu-icon",name:"create-outline"})),r.a.createElement(je.a,{xs:"2",onClick:function(){return e.deleteCategory(t.category_key)}},r.a.createElement("ion-icon",{className:"menu-icon",name:"close-circle-outline"}))),r.a.createElement("hr",{className:"mb-4"}))})),r.a.createElement("div",{onClick:this.setAddCategoryVisible,className:"menu d-flex justify-content-center align-items-center"},r.a.createElement("ion-icon",{name:"add-circle-outline"}))))),r.a.createElement(je.a,{xs:"12",md:"6"},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,{draggable:!0},r.a.createElement("h4",null,"Menu Dishes")),r.a.createElement(Oe.a.Body,null,this.props.dishes.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{className:"menu-icons d-flex justify-content-center align-items-center"},r.a.createElement(je.a,{xs:"8"},r.a.createElement("div",{className:"d-flex align-items-center w-100"},r.a.createElement("img",{style:{width:25,height:25,borderRadius:25,objectFit:"cover"},src:t.photo_url}),r.a.createElement("p",{className:"ml-3 mt-3"},t.name))),r.a.createElement(je.a,{xs:"2",onClick:function(){e.setState({updateDishCategory:t.category,updateDishPrice:t.price,updateDishImageUrl:t.photo_url,updateDishIngredients:t.ingredients,updateDishKey:t.dish_key,updateDishName:t.name}),e.setEditDishesVisible()}},r.a.createElement("ion-icon",{className:"menu-icon",name:"create-outline"})),r.a.createElement(je.a,{xs:"2",onClick:function(){return e.deleteDish(t.dish_key)}},r.a.createElement("ion-icon",{className:"menu-icon",name:"close-circle-outline"}))),r.a.createElement("hr",{className:"mb-4"}))})),r.a.createElement("div",{onClick:this.setAddDishesVisible,className:"menu d-flex justify-content-center align-items-center"},r.a.createElement("ion-icon",{name:"add-circle-outline"})))))))))))),r.a.createElement(Be.a,{show:this.state.addCategoryModalVisible,size:"lg",onHide:this.setAddCategoryVisible,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Add Category")),r.a.createElement(Be.a.Body,null,r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Category Name"),r.a.createElement(ke.a.Control,{onChange:this.inputHandler,name:"addCategoryName",value:this.state.addCategoryName,type:"text",placeholder:"Enter Category Name"}))),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{onClick:this.addCategory},"Add Category"),r.a.createElement(Me.a,{variant:"danger",onClick:this.setAddCategoryVisible},"Close"))),r.a.createElement(Be.a,{show:this.state.editCategoryModalVisible,size:"lg",onHide:this.setEditCategoryVisible,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Update Category")),r.a.createElement(Be.a.Body,null,r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Category Name"),r.a.createElement(ke.a.Control,{onChange:this.inputHandler,name:"updateCategoryName",value:this.state.updateCategoryName,type:"text",placeholder:"Enter Category Name"}))),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{onClick:this.updateCategory},"Update Category"),r.a.createElement(Me.a,{variant:"danger",onClick:this.setEditCategoryVisible},"Close"))),r.a.createElement(Be.a,{show:this.state.addDishesModalVisible,size:"lg",onHide:this.setAddDishesVisible,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Add Dish")),r.a.createElement(Be.a.Body,null,r.a.createElement("div",{className:"d-flex w-100 flex-column align-items-center justify-content-center"},r.a.createElement("img",{style:{width:200,objectFit:"cover",height:200,borderRadius:"50%"},src:this.state.addDishImage?URL.createObjectURL(this.state.addDishImage):"https://img.pngio.com/profile-icon-png-image-free-download-searchpngcom-profile-icon-png-673_673.png"}),r.a.createElement(ke.a.Group,{className:"mt-5",controlId:"formGridAddress1"},r.a.createElement(ke.a.Control,{className:"btn btn-primary",name:"addDishImage",accept:"image/*",onChange:this.fileInputHandler,type:"file"}))),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Dish Name"),r.a.createElement(ke.a.Control,{value:this.state.addDishName,name:"addDishName",onChange:this.inputHandler,type:"text",placeholder:"Enter Dish Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ke.a.Label,null,"Category"),r.a.createElement(ke.a.Control,{value:this.state.addDishCategory,name:"addDishCategory",onChange:this.inputHandler,as:"select"},this.props.categories.map((function(e,t){return r.a.createElement("option",{selected:0===t,value:e.category},e.category)})))),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Dish Price"),r.a.createElement(ke.a.Control,{value:this.state.addDishPrice,name:"addDishPrice",onChange:this.inputHandler,type:"number",placeholder:"Enter Dish Price"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(ke.a.Label,null,"Ingredients"),r.a.createElement(ke.a.Control,{placeholder:"Enter Ingredients",as:"textarea",value:this.state.addDishIngredients,name:"addDishIngredients",onChange:this.inputHandler,rows:"3"}))),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{onClick:this.addDish},"Add Dishes"),r.a.createElement(Me.a,{variant:"danger",onClick:this.setAddDishesVisible},"Close"))),r.a.createElement(Be.a,{show:this.state.editDishesModalVisible,size:"lg",onHide:this.setEditDishesVisible,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Be.a.Header,{closeButton:!0},r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Edit Dish")),r.a.createElement(Be.a.Body,null,r.a.createElement("div",{className:"d-flex w-100 flex-column align-items-center justify-content-center"},r.a.createElement("img",{style:{width:200,objectFit:"cover",height:200,borderRadius:"50%"},src:this.state.updateDishImage?URL.createObjectURL(this.state.updateDishImage):this.state.updateDishImageUrl}),r.a.createElement(ke.a.Group,{className:"mt-5",controlId:"formGridAddress1"},r.a.createElement(ke.a.Control,{className:"btn btn-primary",name:"updateDishImage",accept:"image/*",onChange:this.dishFileInputHandler,type:"file"}))),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Dish Name"),r.a.createElement(ke.a.Control,{value:this.state.updateDishName,name:"updateDishName",onChange:this.inputHandler,type:"text",placeholder:"Enter Dish Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ke.a.Label,null,"Category"),r.a.createElement(ke.a.Control,{value:this.state.updateDishCategory,name:"updateDishCategory",onChange:this.inputHandler,as:"select"},this.props.categories.map((function(t,a){return r.a.createElement("option",{selected:e.state.updateDishCategory===t.category,value:t.category},t.category)})))),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Dish Price"),r.a.createElement(ke.a.Control,{value:this.state.updateDishPrice,name:"updateDishPrice",onChange:this.inputHandler,type:"number",placeholder:"Enter Dish Price"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(ke.a.Label,null,"Ingredients"),r.a.createElement(ke.a.Control,{placeholder:"Enter Ingredients",as:"textarea",value:this.state.updateDishIngredients,name:"updateDishIngredients",onChange:this.inputHandler,rows:"3"}))),r.a.createElement(Be.a.Footer,null,r.a.createElement(Me.a,{onClick:this.updateDish},"Edit Dishes"),r.a.createElement(Me.a,{variant:"danger",onClick:this.setEditDishesVisible},"Close"))))}}]),t}(n.Component)),Ot=Object(h.b)(lt,st)(jt),kt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={phone:"",reservationFee:0,location:{lat:0,long:0},bankName:"",accountName:"",accountNumber:"",address:"",imageUploading:!1,vendorUpdating:!1,name:""},a.componentDidMount=function(){a.setState({phone:a.props.vendor.number,reservationFee:a.props.vendor.reservation_fee,location:{lat:a.props.vendor.llocation.lat,long:a.props.vendor.llocation.llong},bankName:a.props.vendor.bank_details.bank_name,accountName:a.props.vendor.bank_details.account_name,accountNumber:a.props.vendor.bank_details.accountNumber,address:a.props.vendor.address,name:a.props.vendor.name})},a.updateImage=function(e){var t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({imageUploading:!0}),n.next=3,c.a.awrap(de.updateVendorImage(e.target.files[0],a.props.vendor.uid));case 3:return n.next=5,c.a.awrap(de.getVendor(a.props.vendor.uid));case 5:t=n.sent,a.props.updateLogin(t),fe(t),a.setState({imageUploading:!1});case 9:case"end":return n.stop()}}))},a.inputHandler=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.submit=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({imageUploading:!0}),t.next=3,c.a.awrap(de.updateVendor(a.state.name,a.state.phone,a.state.reservationFee,a.state.location.lat,a.state.location.long,a.state.accountNumber,a.state.accountName,a.state.bankName,a.props.vendor.uid));case 3:return t.next=5,c.a.awrap(de.getVendor(a.props.vendor.uid));case 5:e=t.sent,a.props.updateLogin(e),fe(e),a.setState({imageUploading:!1}),a.props.history.push("/vendor/");case 10:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ut,null,r.a.createElement(Ne.a,{fluid:!0},r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",style:{padding:10}},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Profile Setting")),r.a.createElement(Oe.a.Body,null,r.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},r.a.createElement("img",{style:{width:"200px",height:"200px",objectFit:"cover",borderRadius:"50%"},src:this.props.vendor.photo_url?this.props.vendor.photo_url:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRwYsBVC-oKRvO87aXVfE63jYe52NcDYM5ArsCRKAGZaImUHAql"}),this.state.imageUploading?r.a.createElement(we.a,{style:{width:30,height:30},animation:"border",variant:"dark",className:"mt-5"}):r.a.createElement(ke.a.Group,{className:"mt-5",controlId:"formGridAddress1"},r.a.createElement(ke.a.Control,{className:"btn btn-primary",accept:"image/*",onChange:this.updateImage,type:"file"}))),r.a.createElement("hr",{className:"my-5"}),r.a.createElement(ke.a.Group,{controlId:"formGroupEmail"},r.a.createElement(ke.a.Label,null,"Vendor Name"),r.a.createElement(ke.a.Control,{type:"text",placeholder:"Enter Vendor Name",value:this.state.name,name:"name",onChange:this.inputHandler})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ke.a.Label,null,"Vendor Type"),r.a.createElement(ke.a.Control,{disabled:!0,as:"select"},r.a.createElement("option",{selected:"Restaurants"===this.props.vendor.category,value:"Restaurant"},"Restaurant"),r.a.createElement("option",{selected:"Cafes"===this.props.vendor.category,value:"Cafe"},"Cafe"),r.a.createElement("option",{selected:"Escape Rooms"===this.props.vendor.category,value:"Escape Room"},"Escape Room"),r.a.createElement("option",{selected:"Events"===this.props.vendor.category,value:"Event"},"Event"))),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect2"},r.a.createElement(ke.a.Label,null,"Branch"),r.a.createElement(ke.a.Control,{disabled:!0,as:"select"},r.a.createElement("option",{selected:"Main"===this.props.vendor.branch,value:"Main"},"Main"),r.a.createElement("option",{selected:"Sub"===this.props.vendor.branch,value:"Sub"},"Sub"))),r.a.createElement("hr",{className:"my-5"}),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Email address"),r.a.createElement(ke.a.Control,{value:this.props.vendor.email,disabled:!0,type:"email",placeholder:"Enter your Email Address"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput2"},r.a.createElement(ke.a.Label,null,"Phone Number"),r.a.createElement(ke.a.Control,{value:this.state.phone,name:"phone",onChange:this.inputHandler,type:"text",placeholder:"Enter your Phone"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement(ke.a.Label,null,"Reservation Fee"),r.a.createElement(Ye.a,{className:"mb-3"},r.a.createElement(Ye.a.Prepend,null,r.a.createElement(Ye.a.Text,null,"EGP")),r.a.createElement(Ke.a,{value:this.state.reservationFee,name:"reservationFee",onChange:this.inputHandler,type:"number","aria-label":"Amount (to the nearest dollar)"}))),r.a.createElement("hr",{className:"my-5"}),r.a.createElement("h3",null,"Location"),r.a.createElement("hr",{className:"my-5"}),r.a.createElement("h3",{className:"mb-5"},"Bank Details"),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement(ke.a.Label,null,"Bank Name"),r.a.createElement(ke.a.Control,{value:this.state.bankName,name:"bankName",onChange:this.inputHandler,type:"text",placeholder:"Enter your Bank Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement(ke.a.Label,null,"Account Name"),r.a.createElement(ke.a.Control,{value:this.state.accountName,name:"accountName",onChange:this.inputHandler,type:"text",placeholder:"Enter your Account Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement(ke.a.Label,null,"Account Number"),r.a.createElement(ke.a.Control,{value:this.state.accountNumber,name:"phone",onChange:this.inputHandler,type:"number",placeholder:"Enter your Account Number"})),r.a.createElement("hr",{className:"my-5"}),this.state.vendorUpdating?r.a.createElement(we.a,{style:{width:30,height:30},animation:"border",variant:"dark",className:"mt-5"}):r.a.createElement(Me.a,{onClick:this.submit,variant:"primary",size:"lg",block:!0},"Save"))))))))}}]),t}(n.Component),_t=Object(h.b)(lt,st)(Object(P.f)(kt)),Rt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={image:null,name:"",vendorType:"Restaurants",branch:"Main",email:"",phone:"",reservationFee:0,location:{lat:0,long:0},bankName:"",accountName:"",accountNumber:"",password:"",confirmPassword:"",address:""},a.inputHandler=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.fileInputHandler=function(e){console.log(e.target.files[0]),a.setState(Object(Q.a)({},e.target.name,e.target.files[0]))},a.register=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.createVendor(a.state.email,a.state.password,a.state.address,a.state.accountNumber,a.state.accountName,a.state.bankName,a.state.branch,a.state.vendorType,a.state.location.lat,a.state.location.long,a.state.name,a.state.phone,a.state.image,a.state.image.name.split(".")[a.state.image.name.split(".").length-1],a.state.reservationFee));case 2:if(!t.sent){t.next=14;break}return alert("Account has been registered"),t.next=7,c.a.awrap(de.loginVendor(a.state.email,a.state.password));case 7:e=t.sent,a.props.updateLogin(e),fe(e),a.props.history.push("/vendor/"),window.location.reload(),t.next=15;break;case 14:alert("Account could not be registered");case 15:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ne.a,{fluid:!0},r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",style:{padding:50,paddingTop:"10vh",paddingBottom:"10vh",backgroundColor:"#ba0fb4"}},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Vendor Registration")),r.a.createElement(Oe.a.Body,null,r.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},r.a.createElement("img",{style:{width:"200px",height:"200px",objectFit:"cover",borderRadius:"50%"},src:this.state.image?URL.createObjectURL(this.state.image):"https://img.pngio.com/profile-icon-png-image-free-download-searchpngcom-profile-icon-png-673_673.png"}),r.a.createElement(ke.a.Group,{className:"mt-5",controlId:"formGridAddress1"},r.a.createElement(ke.a.Control,{className:"btn btn-primary",name:"image",accept:"image/*",onChange:this.fileInputHandler,type:"file"}))),r.a.createElement("hr",{className:"my-5"}),r.a.createElement(ke.a.Group,{controlId:"formGroupEmail"},r.a.createElement(ke.a.Label,null,"Vendor Name"),r.a.createElement(ke.a.Control,{name:"name",onChange:this.inputHandler,type:"text",placeholder:"Enter Vendor Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ke.a.Label,null,"Vendor Type"),r.a.createElement(ke.a.Control,{name:"vendorType",onChange:this.inputHandler,as:"select"},r.a.createElement("option",{value:"Restaurants"},"Restaurant"),r.a.createElement("option",{value:"Cafes"},"Cafe"),r.a.createElement("option",{value:"Escape Rooms"},"Escape Room"),r.a.createElement("option",{value:"Events"},"Event"))),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect2"},r.a.createElement(ke.a.Label,null,"Branch"),r.a.createElement(ke.a.Control,{name:"branch",onChange:this.inputHandler,as:"select"},r.a.createElement("option",{value:"Main"},"Main"),r.a.createElement("option",{value:"Sub"},"Sub"))),r.a.createElement("hr",{className:"my-5"}),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Email address"),r.a.createElement(ke.a.Control,{name:"email",onChange:this.inputHandler,type:"email",placeholder:"Enter your Email Address"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Address"),r.a.createElement(ke.a.Control,{name:"address",onChange:this.inputHandler,type:"text",placeholder:"Enter your Address"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput2"},r.a.createElement(ke.a.Label,null,"Phone Number"),r.a.createElement(ke.a.Control,{name:"phone",onChange:this.inputHandler,type:"text",placeholder:"Enter your Phone"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement(ke.a.Label,null,"Reservation Fee"),r.a.createElement(Ye.a,{className:"mb-3"},r.a.createElement(Ye.a.Prepend,null,r.a.createElement(Ye.a.Text,null,"EGP")),r.a.createElement(Ke.a,{name:"reservationFee",onChange:this.inputHandler,type:"number","aria-label":"Amount (to the nearest dollar)"}))),r.a.createElement("hr",{className:"my-5"}),r.a.createElement("p",null,"Location"),r.a.createElement("hr",{className:"my-5"}),r.a.createElement("h3",{className:"mb-5"},"Bank Details"),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement(ke.a.Label,null,"Bank Name"),r.a.createElement(ke.a.Control,{name:"bankName",onChange:this.inputHandler,type:"text",placeholder:"Enter your Bank Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput7"},r.a.createElement(ke.a.Label,null,"Account Name"),r.a.createElement(ke.a.Control,{name:"accountName",onChange:this.inputHandler,type:"text",placeholder:"Enter your Account Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput6"},r.a.createElement(ke.a.Label,null,"Account Number"),r.a.createElement(ke.a.Control,{name:"accountNumber",onChange:this.inputHandler,type:"number",placeholder:"Enter your Account Number"})),r.a.createElement("hr",{className:"my-5"}),r.a.createElement("h3",{className:"mb-5"},"Change Password"),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput4"},r.a.createElement(ke.a.Label,null,"Password"),r.a.createElement(ke.a.Control,{name:"password",onChange:this.inputHandler,type:"password",placeholder:"Enter your Password"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput5"},r.a.createElement(ke.a.Label,null,"Confirm Password"),r.a.createElement(ke.a.Control,{name:"confirmPassword",onChange:this.inputHandler,type:"password",placeholder:"Renter your Password"})),r.a.createElement("hr",{className:"my-5"}),r.a.createElement(Me.a,{onClick:this.register,variant:"primary",size:"lg",block:!0},"Submit Registration")))))))}}]),t}(n.Component),Dt=Object(h.b)(lt,st)(Object(P.f)(Rt)),It=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100vh",background:"white"},className:"flex-column d-flex align-items-center justify-content-center w-100"},r.a.createElement("video",{src:z.a,style:{width:"50%"},muted:!0,autoPlay:!0}),r.a.createElement("p",{className:"text-muted"},"Please wait while your account is being verified by our administrators."))}}]),t}(n.Component),St=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={image:null,name:"",vendorType:"Restaurants",branch:"Main",email:"",phone:"",reservationFee:0,location:{lat:0,long:0},bankName:"",accountName:"",accountNumber:"",password:"",confirmPassword:"",address:"",uid:""},a.componentDidMount=function(){a.setState({image:a.props.registrationInfo.photoUrl,name:a.props.registrationInfo.name,email:a.props.registrationInfo.email,uid:a.props.registrationInfo.uid})},a.inputHandler=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.fileInputHandler=function(e){console.log(e.target.files[0]),a.setState(Object(Q.a)({},e.target.name,e.target.files[0]))},a.register=function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(de.createVendorSocial(a.state.email,a.state.address,a.state.accountNumber,a.state.accountName,a.state.bankName,a.state.branch,a.state.vendorType,a.state.location.lat,a.state.location.long,a.state.name,a.state.phone,a.state.image,a.state.reservationFee,a.state.uid));case 2:if(!t.sent){t.next=14;break}return alert("Account has been registered"),t.next=7,c.a.awrap(de.getVendor(a.state.uid));case 7:e=t.sent,a.props.updateLogin(e),fe(e),a.props.history.push("/vendor/"),window.location.reload(),t.next=15;break;case 14:alert("Account could not be registered");case 15:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ne.a,{fluid:!0},r.a.createElement(Ie.a,null,r.a.createElement(je.a,{xs:"12",style:{padding:50,paddingTop:"10vh",paddingBottom:"10vh",backgroundColor:"#ba0fb4"}},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement("h1",null,"Vendor Registration")),r.a.createElement(Oe.a.Body,null,r.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},r.a.createElement("img",{style:{width:"200px",height:"200px",objectFit:"cover",borderRadius:"50%"},src:this.state.image?this.state.image:"https://img.pngio.com/profile-icon-png-image-free-download-searchpngcom-profile-icon-png-673_673.png"})),r.a.createElement("hr",{className:"my-5"}),r.a.createElement(ke.a.Group,{controlId:"formGroupEmail"},r.a.createElement(ke.a.Label,null,"Vendor Name"),r.a.createElement(ke.a.Control,{disabled:!0,value:this.state.name,name:"name",type:"text",placeholder:"Enter Vendor Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(ke.a.Label,null,"Vendor Type"),r.a.createElement(ke.a.Control,{name:"vendorType",onChange:this.inputHandler,as:"select"},r.a.createElement("option",{value:"Restaurants"},"Restaurant"),r.a.createElement("option",{value:"Cafes"},"Cafe"),r.a.createElement("option",{value:"Escape Rooms"},"Escape Room"),r.a.createElement("option",{value:"Events"},"Event"))),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlSelect2"},r.a.createElement(ke.a.Label,null,"Branch"),r.a.createElement(ke.a.Control,{name:"branch",onChange:this.inputHandler,as:"select"},r.a.createElement("option",{value:"Main"},"Main"),r.a.createElement("option",{value:"Sub"},"Sub"))),r.a.createElement("hr",{className:"my-5"}),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Email address"),r.a.createElement(ke.a.Control,{disabled:!0,value:this.state.email,name:"email",onChange:this.inputHandler,type:"email",placeholder:"Enter your Email Address"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(ke.a.Label,null,"Address"),r.a.createElement(ke.a.Control,{name:"address",onChange:this.inputHandler,type:"text",placeholder:"Enter your Address"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput2"},r.a.createElement(ke.a.Label,null,"Phone Number"),r.a.createElement(ke.a.Control,{name:"phone",onChange:this.inputHandler,type:"text",placeholder:"Enter your Phone"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement(ke.a.Label,null,"Reservation Fee"),r.a.createElement(Ye.a,{className:"mb-3"},r.a.createElement(Ye.a.Prepend,null,r.a.createElement(Ye.a.Text,null,"EGP")),r.a.createElement(Ke.a,{name:"reservationFee",onChange:this.inputHandler,type:"number","aria-label":"Amount (to the nearest dollar)"}))),r.a.createElement("hr",{className:"my-5"}),r.a.createElement("p",null,"Location"),r.a.createElement("hr",{className:"my-5"}),r.a.createElement("h3",{className:"mb-5"},"Bank Details"),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement(ke.a.Label,null,"Bank Name"),r.a.createElement(ke.a.Control,{name:"bankName",onChange:this.inputHandler,type:"text",placeholder:"Enter your Bank Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput7"},r.a.createElement(ke.a.Label,null,"Account Name"),r.a.createElement(ke.a.Control,{name:"accountName",onChange:this.inputHandler,type:"text",placeholder:"Enter your Account Name"})),r.a.createElement(ke.a.Group,{controlId:"exampleForm.ControlInput6"},r.a.createElement(ke.a.Label,null,"Account Number"),r.a.createElement(ke.a.Control,{name:"accountNumber",onChange:this.inputHandler,type:"number",placeholder:"Enter your Account Number"})),r.a.createElement("hr",{className:"my-5"}),r.a.createElement(Me.a,{onClick:this.register,variant:"primary",size:"lg",block:!0},"Submit Registration")))))))}}]),t}(n.Component),At=Object(h.b)(lt,st)(Object(P.f)(St)),Ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a.componentDidMount=function(){var e,t,n,r,l,s,o,i;return c.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=ve(),console.log(e),!e){u.next=42;break}return u.next=5,c.a.awrap(de.getVendor(e.uid));case 5:if((t=u.sent).is_verified===e.is_verified){u.next=11;break}fe(t),window.location.reload(),u.next=42;break;case 11:if(!t){u.next=42;break}return u.next=14,c.a.awrap(de.getDishesVendor(t.uid));case 14:return n=u.sent,a.props.updateDishes(n),u.next=18,c.a.awrap(de.getReviews(t.uid));case 18:return r=u.sent,a.props.updateReviews(r),u.next=22,c.a.awrap(de.getCategories(t.uid));case 22:return l=u.sent,a.props.updateCategories(l),console.log(l),u.next=27,c.a.awrap(de.getCustomers());case 27:return s=u.sent,a.props.updateCustomers(s),u.next=31,c.a.awrap(de.getNotificationsVendor(t.uid));case 31:return o=u.sent,a.props.updateNotifications(o),u.next=35,c.a.awrap(de.getReservationsVendor(t.uid));case 35:i=u.sent,a.props.updateReservations(i),de.vendorListenToDishes((function(e){var n=e.val(),r=Object(G.a)(a.props.dishes),l=r.findIndex((function(e){return e.dish_key==n.dish_key}));l>=0?r[l]=n:n.uid===t.uid&&r.push(n),a.props.updateDishes(r)})),de.vendorListenToCategories((function(e){var t=e.val();console.log(t);var n=Object(G.a)(a.props.categories),r=n.findIndex((function(e){return e.category_key==t.category_key}));r>=0?n[r]=t:n.push(t),a.props.updateCategories(n)}),t.uid),de.vendorListenToNotifications((function(e){var t=e.val(),n=Object(G.a)(a.props.notifications),r=n.findIndex((function(e){return e.notification_key==t.notification_key}));r>=0?n[r]=t:n.push(t),a.props.updateNotifications(n)}),t.uid),de.vendorListenToReservations((function(e){var n=e.val(),r=Object(G.a)(a.props.reservations),l=r.findIndex((function(e){return e.reservation_key==n.reservation_key}));l>=0?r[l]=n:n.restaurant_uid===t.uid&&r.push(n),a.props.updateReservations(r)})),a.props.updateLogin(t);case 42:a.setState({loading:!1});case 43:case"end":return u.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{style:{height:"100vh",background:"white"},className:"flex-column d-flex align-items-center justify-content-center w-100"},r.a.createElement("video",{src:z.a,style:{width:"50%"},muted:!0,autoPlay:!0,loop:!0}),r.a.createElement(we.a,{style:{width:30,height:30},animation:"border",variant:"dark"})):r.a.createElement(r.a.Fragment,null,this.props.vendor?r.a.createElement(r.a.Fragment,null,this.props.vendor.is_verified?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{exact:!0,path:"/vendor/"},r.a.createElement(Et,null)),r.a.createElement(P.a,{exact:!0,path:"/vendor/upcoming"},r.a.createElement(gt,null)),r.a.createElement(P.a,{exact:!0,path:"/vendor/past"},r.a.createElement(yt,null)),r.a.createElement(P.a,{exact:!0,path:"/vendor/reviews"},r.a.createElement(Nt,null)),r.a.createElement(P.a,{exact:!0,path:"/vendor/menu"},r.a.createElement(Ot,null)),r.a.createElement(P.a,{exact:!0,path:"/vendor/profile"},r.a.createElement(_t,null))):r.a.createElement(P.a,{path:"/vendor/"},r.a.createElement(It,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{exact:!0,path:"/vendor/"},r.a.createElement(ct,null)),r.a.createElement(P.a,{exact:!0,path:"/vendor/register"},r.a.createElement(Dt,null)),r.a.createElement(P.a,{exact:!0,path:"/vendor/registersocial"},r.a.createElement(At,null))))}}]),t}(n.Component),Vt=Object(h.b)(lt,st)(Ft),Tt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a.componentDidMount=function(){var e,t,n,r,l,s,o,i,u;return c.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(!(e=he())){m.next=43;break}return m.next=4,c.a.awrap(de.getRestaurants());case 4:return t=m.sent,a.props.updateVendors(t),m.next=8,c.a.awrap(de.getAllReviews());case 8:return n=m.sent,a.props.updateReviews(n),m.next=12,c.a.awrap(de.getComplaints());case 12:return r=m.sent,a.props.updateComplaints(r),m.next=16,c.a.awrap(de.getCustomers());case 16:return l=m.sent,a.props.updateCustomers(l),m.next=20,c.a.awrap(de.getDiscountVouchers());case 20:return s=m.sent,a.props.updateDiscountVouchers(s),m.next=24,c.a.awrap(de.getNotifications(e.uid));case 24:return o=m.sent,a.props.updateNotifications(o),m.next=28,c.a.awrap(de.getReservations());case 28:return i=m.sent,a.props.updateReservations(i),m.next=32,c.a.awrap(de.getSlideShows());case 32:u=m.sent,a.props.updateSlideshows(u),de.listenToVendors((function(e){var t=e.val(),n=Object(G.a)(a.props.vendors),r=n.findIndex((function(e){return e.uid==t.uid}));r>=0?n[r]=t:n.push(t),a.props.updateVendors(n)})),de.listenToComplaints((function(e){var t=e.val(),n=Object(G.a)(a.props.complaints),r=n.findIndex((function(e){return e.complaint_key==t.complaint_key}));r>=0?n[r]=t:n.push(t),a.props.updateComplaints(n)})),de.listenToCustomers((function(e){var t=e.val(),n=Object(G.a)(a.props.customers),r=n.findIndex((function(e){return e.uid==t.uid}));r>=0?n[r]=t:n.push(t),a.props.updateCustomers(n)})),de.listenToDiscountVouchers((function(e){var t=e.val(),n=Object(G.a)(a.props.vouchers),r=n.findIndex((function(e){return e.uid==t.uid}));r>=0?n[r]=t:n.push(t),a.props.updateDiscountVouchers(n)})),de.listenToNotifications((function(e){var t=e.val(),n=Object(G.a)(a.props.notifications),r=n.findIndex((function(e){return e.uid==t.uid}));r>=0?n[r]=t:n.push(t),a.props.updateNotifications(n)})),de.listenToReservations((function(e){var t=e.val(),n=Object(G.a)(a.props.reservations),r=n.findIndex((function(e){return e.reservation_key==t.reservation_key}));r>=0?n[r]=t:n.push(t),a.props.updateReservations(n)})),de.listenToReviews((function(e){var t=e.val(),n=Object(G.a)(a.props.reviews),r=n.findIndex((function(e){return e.uid==t.uid}));r>=0?n[r]=t:n.push(t),a.props.updateReviews(n)})),de.listenToSlideShows((function(e){var t=e.val(),n=Object(G.a)(a.props.slideshows),r=n.findIndex((function(e){return e.uid==t.uid}));r>=0?n[r]=t:n.push(t),a.props.updateSlideshows(n)})),a.props.updateLogin(e);case 43:a.setState({loading:!1});case 44:case"end":return m.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{style:{height:"100vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(we.a,{style:{width:65,height:65},animation:"border",variant:"primary"})):r.a.createElement(M.a,{basename:"/"},r.a.createElement(P.c,null,r.a.createElement(P.a,{exact:!0,path:"/"},r.a.createElement(J,null)),r.a.createElement(P.a,{exact:!0,path:"/contact"},r.a.createElement(te,null)),r.a.createElement(P.a,{exact:!0,path:"/terms"},r.a.createElement(X,null)),r.a.createElement(P.a,{exact:!0,path:"/privacy"},r.a.createElement(Z,null)),null!==this.props.loggedInAdmin?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{exact:!0,path:"/admin/"},r.a.createElement(Le,null)),r.a.createElement(P.a,{exact:!0,path:"/admin/vendor/:uid"},r.a.createElement(qe,null)),r.a.createElement(P.a,{exact:!0,path:"/admin/complaints"},r.a.createElement(Je,null)),r.a.createElement(P.a,{exact:!0,path:"/admin/customer/:uid"},r.a.createElement($e,null)),r.a.createElement(P.a,{exact:!0,path:"/admin/discount"},r.a.createElement(tt,null)),r.a.createElement(P.a,{exact:!0,path:"/admin/reservations"},r.a.createElement(Ze,null)),r.a.createElement(P.a,{exact:!0,path:"/admin/slideshow"},r.a.createElement(rt,null)),r.a.createElement(P.a,{exact:!0,path:"/admin/verification"},r.a.createElement(xt,null))):r.a.createElement(P.a,{exact:!0,path:"/admin/"},r.a.createElement(Ce,null)),r.a.createElement(Vt,null)))}}]),t}(n.Component),Lt=Object(h.b)(be,ye)(Tt),Ht=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{store:H},r.a.createElement(Lt,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,a){e.exports=a.p+"static/media/logo.2d5cad77.mp4"}},[[313,1,2]]]);
//# sourceMappingURL=main.3785d225.chunk.js.map